<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="utf-8"/>
<title>Tune Machine Learning Algorithms in R (random forest case study) - Machine Learning Mastery</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link href="https://machinelearningmastery.com/xmlrpc.php" rel="pingback"/>
<!--  Mobile viewport scale -->
<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=yes" name="viewport"/>
<!-- This site is optimized with the Yoast SEO plugin v6.1.1 - https://yoa.st/1yg?utm_content=6.1.1 -->
<link href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/" rel="canonical"/>
<link href="https://plus.google.com/u/0/b/117073416089354242117/+MachinelearningmasteryHome/" rel="publisher"/>
<meta content="en_US" property="og:locale"/>
<meta content="article" property="og:type"/>
<meta content="Tune Machine Learning Algorithms in R (random forest case study) - Machine Learning Mastery" property="og:title"/>
<meta content="It is difficult to find a good machine learning algorithm for your problem. But once you do, how do you get the best performance out of it. In this post you will discover three ways that you can tune the parameters of a machine learning algorithm in R. Walk through a real example step-by-step with …" property="og:description"/>
<meta content="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/" property="og:url"/>
<meta content="Machine Learning Mastery" property="og:site_name"/>
<meta content="https://www.facebook.com/Machine-Learning-Mastery-1429846323896563/" property="article:publisher"/>
<meta content="R Machine Learning" property="article:section"/>
<meta content="2016-02-05T05:00:17+11:00" property="article:published_time"/>
<meta content="2016-09-22T10:16:38+11:00" property="article:modified_time"/>
<meta content="2016-09-22T10:16:38+11:00" property="og:updated_time"/>
<meta content="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-in-R.jpg" property="og:image"/>
<meta content="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-in-R.jpg" property="og:image:secure_url"/>
<meta content="640" property="og:image:width"/>
<meta content="427" property="og:image:height"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"WebSite","@id":"#website","url":"https:\/\/machinelearningmastery.com\/","name":"Machine Learning Mastery","potentialAction":{"@type":"SearchAction","target":"https:\/\/machinelearningmastery.com\/?s={search_term_string}","query-input":"required name=search_term_string"}}</script>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"Organization","url":"https:\/\/machinelearningmastery.com\/tune-machine-learning-algorithms-in-r\/","sameAs":["https:\/\/www.facebook.com\/Machine-Learning-Mastery-1429846323896563\/","https:\/\/www.linkedin.com\/in\/jasonbrownlee","https:\/\/plus.google.com\/u\/0\/b\/117073416089354242117\/+MachinelearningmasteryHome\/","https:\/\/twitter.com\/TeachTheMachine"],"@id":"#organization","name":"Machine Learning Mastery","logo":"https:\/\/machinelearningmastery.com\/wp-content\/uploads\/2016\/09\/cropped-icon.png"}</script>
<!-- / Yoast SEO plugin. -->
<link href="//cdnjs.cloudflare.com" rel="dns-prefetch"/>
<link href="//fonts.googleapis.com" rel="dns-prefetch"/>
<link href="//s.w.org" rel="dns-prefetch"/>
<link href="https://feeds.feedburner.com/MachineLearningMastery" rel="alternate" title="Machine Learning Mastery » Feed" type="application/rss+xml"/>
<link href="https://machinelearningmastery.com/comments/feed/" rel="alternate" title="Machine Learning Mastery » Comments Feed" type="application/rss+xml"/>
<link href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/feed/" rel="alternate" title="Machine Learning Mastery » Tune Machine Learning Algorithms in R (random forest case study) Comments Feed" type="application/rss+xml"/>
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/machinelearningmastery.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.2"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56794,8205,9794,65039],[55358,56794,8203,9794,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta" id="crayon-css" media="all" rel="stylesheet" type="text/css"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta" id="crayon-theme-classic-css" media="all" rel="stylesheet" type="text/css"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta" id="crayon-font-monaco-css" media="all" rel="stylesheet" type="text/css"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.9.2" id="contact-form-7-css" media="all" rel="stylesheet" type="text/css"/>
<link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css?ver=4.2.2.0.iis7_supports_permalinks" id="apss-font-awesome-css" media="all" rel="stylesheet" type="text/css"/>
<link href="//fonts.googleapis.com/css?family=Open+Sans&amp;ver=4.9.2" id="apss-font-opensans-css" media="all" rel="stylesheet" type="text/css"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/plugins/seo-optimized-share-buttons/css/frontend.css?ver=4.2.2.0.iis7_supports_permalinks" id="apss-frontend-css-css" media="all" rel="stylesheet" type="text/css"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/themes/canvas-new/includes/integrations/testimonials/css/testimonials.css?ver=4.9.2" id="woo-testimonials-css-css" media="all" rel="stylesheet" type="text/css"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/themes/canvas-new/style.css?ver=5.9.21" id="theme-stylesheet-css" media="all" rel="stylesheet" type="text/css"/>
<!--[if lt IE 9]>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/themes/canvas-new/css/non-responsive.css" rel="stylesheet" type="text/css" />
<style type="text/css">.col-full, #wrapper { width: 960px; max-width: 960px; } #inner-wrapper { padding: 0; } body.full-width #header, #nav-container, body.full-width #content, body.full-width #footer-widgets, body.full-width #footer { padding-left: 0; padding-right: 0; } body.fixed-mobile #top, body.fixed-mobile #header-container, body.fixed-mobile #footer-container, body.fixed-mobile #nav-container, body.fixed-mobile #footer-widgets-container { min-width: 960px; padding: 0 1em; } body.full-width #content { width: auto; padding: 0 1em;}</style>
<![endif]-->
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-includes/js/jquery/jquery.js?ver=1.12.4" type="text/javascript"></script>
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1" type="text/javascript"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/machinelearningmastery.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta" type="text/javascript"></script>
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/themes/canvas-new/includes/js/third-party.min.js?ver=4.9.2" type="text/javascript"></script>
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/themes/canvas-new/includes/js/modernizr.min.js?ver=2.6.2" type="text/javascript"></script>
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/themes/canvas-new/includes/js/general.min.js?ver=4.9.2" type="text/javascript"></script>
<link href="https://machinelearningmastery.com/wp-json/" rel="https://api.w.org/"/>
<link href="https://machinelearningmastery.com/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
<link href="https://machinelearningmastery.com/?p=2182" rel="shortlink"/>
<link href="https://machinelearningmastery.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmachinelearningmastery.com%2Ftune-machine-learning-algorithms-in-r%2F" rel="alternate" type="application/json+oembed"/>
<link href="https://machinelearningmastery.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmachinelearningmastery.com%2Ftune-machine-learning-algorithms-in-r%2F&amp;format=xml" rel="alternate" type="text/xml+oembed"/>
<!-- Start Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44039733-3', 'auto');
  ga('send', 'pageview');

</script>
<!-- End Google Analytics -->
<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');

fbq('init', '296263687421164');
fbq('track', "PageView");</script>
<noscript><img height="1" src="https://www.facebook.com/tr?id=296263687421164&amp;ev=PageView&amp;noscript=1" style="display:none" width="1"/></noscript>
<!-- End Facebook Pixel Code -->
<!-- Custom CSS Styling -->
<style type="text/css">
#logo .site-title, #logo .site-description { display:none; }
body {background-repeat:no-repeat;background-position:top left;background-attachment:scroll;border-top:0px solid #000000;}
#header {background-repeat:no-repeat;background-position:left top;margin-top:0px;margin-bottom:0px;padding-top:10px;padding-bottom:10px;border:0px solid ;}
#logo .site-title a {font:bold 40px/1em Helvetica Neue, Helvetica, sans-serif;color:#222222;}
#logo .site-description {font:300 13px/1em Helvetica Neue, Helvetica, sans-serif;color:#999999;}
body, p { font:300 14px/1.5em Helvetica Neue, Helvetica, sans-serif;color:#555555; }
h1 { font:bold 28px/1.2em Helvetica Neue, Helvetica, sans-serif;color:#222222; }h2 { font:bold 24px/1.2em Helvetica Neue, Helvetica, sans-serif;color:#222222; }h3 { font:bold 20px/1.2em Helvetica Neue, Helvetica, sans-serif;color:#222222; }h4 { font:bold 16px/1.2em Helvetica Neue, Helvetica, sans-serif;color:#222222; }h5 { font:bold 14px/1.2em Helvetica Neue, Helvetica, sans-serif;color:#222222; }h6 { font:bold 12px/1.2em Helvetica Neue, Helvetica, sans-serif;color:#222222; }
.page-title, .post .title, .page .title {font:bold 28px/1.1em "Helvetica Neue", Helvetica, sans-serif;color:#222222;}
.post .title a:link, .post .title a:visited, .page .title a:link, .page .title a:visited {color:#222222}
.post-meta { font:300 12px/1.5em "Helvetica Neue", Helvetica, sans-serif;color:#999999; }
.entry, .entry p{ font:300 15px/1.5em "Helvetica Neue", Helvetica, sans-serif;color:#555555; }
.post-more {font:300 13px/1.5em "Helvetica Neue", Helvetica, sans-serif;color:;border-top:0px solid #e6e6e6;border-bottom:0px solid #e6e6e6;}
#post-author, #connect {border-top:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6;border-left:1px solid #e6e6e6;border-right:1px solid #e6e6e6;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px;background-color:#fafafa}
.nav-entries a, .woo-pagination { font:300 13px/1em "Helvetica Neue", Helvetica, sans-serif;color:#888; }
.woo-pagination a, .woo-pagination a:hover {color:#888!important}
.widget h3 {font:bold 14px/1.2em &quot;Helvetica Neue&quot;, Helvetica, sans-serif;color:#555555;border-bottom:1px solid #e6e6e6;}
.widget_recent_comments li, #twitter li { border-color: #e6e6e6;}
.widget p, .widget .textwidget { font:300 13px/1.5em Helvetica Neue, Helvetica, sans-serif;color:#555555; }
.widget {font:300 13px/1.5em &quot;Helvetica Neue&quot;, Helvetica, sans-serif;color:#555555;border-radius:0px;-moz-border-radius:0px;-webkit-border-radius:0px;}
#tabs .inside li a, .widget_woodojo_tabs .tabbable .tab-pane li a { font:bold 12px/1.5em Helvetica Neue, Helvetica, sans-serif;color:#555555; }
#tabs .inside li span.meta, .widget_woodojo_tabs .tabbable .tab-pane li span.meta { font:300 11px/1.5em Helvetica Neue, Helvetica, sans-serif;color:#999999; }
#tabs ul.wooTabs li a, .widget_woodojo_tabs .tabbable .nav-tabs li a { font:300 11px/2em Helvetica Neue, Helvetica, sans-serif;color:#999999; }
@media only screen and (min-width:768px) {
ul.nav li a, #navigation ul.rss a, #navigation ul.cart a.cart-contents, #navigation .cart-contents #navigation ul.rss, #navigation ul.nav-search, #navigation ul.nav-search a { font:300 14px/1.2em Helvetica Neue, Helvetica, sans-serif;color:#666666; } #navigation ul.rss li a:before, #navigation ul.nav-search a.search-contents:before { color:#666666;}
#navigation ul.nav li ul, #navigation ul.cart > li > ul > div  { border: 0px solid #dbdbdb; }
#navigation ul.nav > li:hover > ul  { left: 0; }
#navigation ul.nav > li  { border-right: 0px solid #dbdbdb; }#navigation ul.nav > li:hover > ul  { left: 0; }
#navigation { box-shadow: none; -moz-box-shadow: none; -webkit-box-shadow: none; }#navigation ul li:first-child, #navigation ul li:first-child a { border-radius:0px 0 0 0px; -moz-border-radius:0px 0 0 0px; -webkit-border-radius:0px 0 0 0px; }
#navigation {border-top:0px solid #dbdbdb;border-bottom:0px solid #dbdbdb;border-left:0px solid #dbdbdb;border-right:0px solid #dbdbdb;border-radius:0px; -moz-border-radius:0px; -webkit-border-radius:0px;}
#top ul.nav li a { font:300 12px/1.6em Helvetica Neue, Helvetica, sans-serif;color:#ddd; }
}
#footer, #footer p { font:300 13px/1.4em Helvetica Neue, Helvetica, sans-serif;color:#999999; }
#footer {border-top:1px solid #dbdbdb;border-bottom:0px solid ;border-left:0px solid ;border-right:0px solid ;border-radius:0px; -moz-border-radius:0px; -webkit-border-radius:0px;}
.magazine #loopedSlider .content h2.title a { font:bold 24px/1em Arial, sans-serif;color:#ffffff; }
.wooslider-theme-magazine .slide-title a { font:bold 24px/1em Arial, sans-serif;color:#ffffff; }
.magazine #loopedSlider .content .excerpt p { font:300 13px/1.5em Arial, sans-serif;color:#cccccc; }
.wooslider-theme-magazine .slide-content p, .wooslider-theme-magazine .slide-excerpt p { font:300 13px/1.5em Arial, sans-serif;color:#cccccc; }
.magazine .block .post .title a {font:bold 18px/1.2em Helvetica Neue, Helvetica, sans-serif;color:#222222; }
#loopedSlider.business-slider .content h2 { font:bold 24px/1em Arial, sans-serif;color:#ffffff; }
#loopedSlider.business-slider .content h2.title a { font:bold 24px/1em Arial, sans-serif;color:#ffffff; }
.wooslider-theme-business .has-featured-image .slide-title { font:bold 24px/1em Arial, sans-serif;color:#ffffff; }
.wooslider-theme-business .has-featured-image .slide-title a { font:bold 24px/1em Arial, sans-serif;color:#ffffff; }
#wrapper #loopedSlider.business-slider .content p { font:300 13px/1.5em Arial, sans-serif;color:#cccccc; }
.wooslider-theme-business .has-featured-image .slide-content p { font:300 13px/1.5em Arial, sans-serif;color:#cccccc; }
.wooslider-theme-business .has-featured-image .slide-excerpt p { font:300 13px/1.5em Arial, sans-serif;color:#cccccc; }
.archive_header { font:bold 18px/1em Arial, sans-serif;color:#222222; }
.archive_header {border-bottom:1px solid #e6e6e6;}
.archive_header .catrss { display:none; }
</style>
<!-- Woo Shortcodes CSS -->
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/themes/canvas-new/functions/css/shortcodes.css" rel="stylesheet" type="text/css"/>
<!-- Custom Stylesheet -->
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/themes/canvas-new/custom.css" rel="stylesheet" type="text/css"/>
<!-- Theme version -->
<meta content="Canvas 5.9.21" name="generator"/>
<meta content="WooFramework 6.2.9" name="generator"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/09/cropped-icon-32x32.png" rel="icon" sizes="32x32"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/09/cropped-icon-192x192.png" rel="icon" sizes="192x192"/>
<link href="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/09/cropped-icon-180x180.png" rel="apple-touch-icon-precomposed"/>
<meta content="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/09/cropped-icon-270x270.png" name="msapplication-TileImage"/>
</head>
<body class="post-template-default single single-post postid-2182 single-format-standard chrome alt-style-default two-col-left width-960 two-col-left-960">
<div id="wrapper">
<div id="inner-wrapper">
<h3 class="nav-toggle icon"><a href="#navigation">Navigation</a></h3>
<header class="col-full" id="header">
<div id="logo">
<a href="https://machinelearningmastery.com/" title="Making developers awesome at machine learning"><img alt="Machine Learning Mastery" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/06/MachineLearningMastery.png"/></a>
<span class="site-title"><a href="https://machinelearningmastery.com/">Machine Learning Mastery</a></span>
<span class="site-description">Making developers awesome at machine learning</span>
</div>
<div class="header-widget">
<div class="widget widget_text" id="text-3"> <div class="textwidget"><br/>
<div style="font-size:12pt;">
<a href="/start-here"><strong>Start Here</strong></a>
     
<a href="/blog">Blog</a>
     
<a href="/products">Books</a>
     
<a href="/about">About</a>
     
<a href="/contact">Contact</a>
</div></div>
</div><div class="widget widget_search" id="search-3"><div class="search_main">
<form action="https://machinelearningmastery.com/" class="searchform" method="get">
<input class="field s" name="s" onblur="if (this.value == '') {this.value = 'Search...';}" onfocus="if (this.value == 'Search...') {this.value = '';}" type="text" value="Search..."/>
<button class="fa fa-search submit" name="submit" type="submit" value="Search"></button>
</form>
<div class="fix"></div>
</div></div><div class="widget widget_text" id="text-15"> <div class="textwidget"><p>Want help with R machine learning? <a href="https://machinelearningmastery.leadpages.co/r-machine-learning-mini-course/">Take the FREE Mini-Course</a>.</p>
</div>
</div> </div>
</header>
<nav class="col-full" id="navigation" role="navigation">
<section class="menus">
<a class="nav-home" href="https://machinelearningmastery.com"><span>Home</span></a>
<h3>Empty Menu</h3> <div class="side-nav">
</div><!-- /#side-nav -->
</section><!-- /.menus -->
<a class="nav-close" href="#top"><span>Return to Content</span></a>
</nav>
<!-- #content Starts -->
<div class="col-full" id="content">
<div id="main-sidebar-container">
<!-- #main Starts -->
<section id="main">
<article class="post-2182 post type-post status-publish format-standard has-post-thumbnail hentry category-r-machine-learning">
<header>
<h1 class="title entry-title">Tune Machine Learning Algorithms in R (random forest case study)</h1> </header>
<div class="post-meta"><span class="small">By</span> <span class="author vcard"><span class="fn"><a href="https://machinelearningmastery.com/author/jasonb/" rel="author" title="Posts by Jason Brownlee">Jason Brownlee</a></span></span> <span class="small">on</span> <abbr class="date time published updated" title="2016-02-05T05:00:17+1100">February 5, 2016</abbr> <span class="small">in</span> <span class="categories"><a href="https://machinelearningmastery.com/category/r-machine-learning/" title="View all items in R Machine Learning">R Machine Learning</a></span> </div>
<section class="entry">
<div class="apss-social-share apss-theme-4 clearfix">
<div class="apss-twitter apss-single-icon">
<a href="javascript:void(0);" onclick="apss_open_in_popup_window(event, 'https://twitter.com/intent/tweet?text=Tune%20Machine%20Learning%20Algorithms%20in%20R%20%28random%20forest%20case%20study%29&amp;url=https%3A%2F%2Fmachinelearningmastery.com%2Ftune-machine-learning-algorithms-in-r%2F&amp;');" rel="nofollow" target="" title="Share on Twitter">
<div class="apss-icon-block clearfix">
<i class="fa fa-twitter"></i>
<span class="apss-social-text">Share on Twitter</span><span class="apss-share">Tweet</span>
</div>
</a>
</div>
<div class="apss-facebook apss-single-icon">
<a href="https://www.facebook.com/sharer/sharer.php?u=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/" onclick="apss_open_in_popup_window(event, 'https://www.facebook.com/sharer/sharer.php?u=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/');" rel="nofollow" target="" title="Share on Facebook">
<div class="apss-icon-block clearfix">
<i class="fa fa-facebook"></i>
<span class="apss-social-text">Share on Facebook</span>
<span class="apss-share">Share</span>
</div>
</a>
</div>
<div class="apss-linkedin apss-single-icon">
<a href="http://www.linkedin.com/shareArticle?mini=true&amp;title=Tune%20Machine%20Learning%20Algorithms%20in%20R%20%28random%20forest%20case%20study%29&amp;url=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/&amp;summary=It+is+difficult+to+find+a+good+machine+learning+algorithm+for+your+problem.+But+once+you+do%2C+how+do+..." onclick="apss_open_in_popup_window(event, 'http://www.linkedin.com/shareArticle?mini=true&amp;title=Tune%20Machine%20Learning%20Algorithms%20in%20R%20%28random%20forest%20case%20study%29&amp;url=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/&amp;summary=It+is+difficult+to+find+a+good+machine+learning+algorithm+for+your+problem.+But+once+you+do%2C+how+do+...');" rel="nofollow" target="" title="Share on LinkedIn">
<div class="apss-icon-block clearfix"><i class="fa fa-linkedin"></i>
<span class="apss-social-text">Share on LinkedIn</span>
<span class="apss-share">Share</span>
</div>
</a>
</div>
<div class="apss-google-plus apss-single-icon">
<a href="https://plus.google.com/share?url=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/" onclick="apss_open_in_popup_window(event, 'https://plus.google.com/share?url=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/');" rel="nofollow" target="" title="Share on Google Plus">
<div class="apss-icon-block clearfix">
<i class="fa fa-google-plus"></i>
<span class="apss-social-text">Share on Google Plus</span>
<span class="apss-share">Share</span>
</div>
</a>
</div>
</div><p>It is difficult to find a good machine learning algorithm for your problem. But once you do, how do you get the best performance out of it.</p>
<p>In this post you will discover three ways that you can tune the parameters of a machine learning algorithm in R.</p>
<p>Walk through a real example step-by-step with working code in R. Use the code as a template to tune machine learning algorithms on your current or next machine learning project.</p>
<div class="wp-caption aligncenter" id="attachment_2187" style="max-width: 650px"><img alt="Tune Random Forest in R" class="size-full wp-image-2187" height="427" sizes="(max-width: 640px) 100vw, 640px" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-in-R.jpg" srcset="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-in-R.jpg 640w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-in-R-300x200.jpg 300w" width="640"/><p class="wp-caption-text">Tune Random Forest in R.<br/>Photo by <a href="https://www.flickr.com/photos/infomastern/17229720529/">Susanne Nilsson</a>, some rights reserved.</p></div>
<h2>Get Better Accuracy From Top Algorithms</h2>
<p>It is difficult to find a good or even a well-performing machine learning algorithm for your dataset.</p>
<p>Through a process of trial and error you can settle on a short list of algorithms that show promise, but how do you know which is the best.</p>
<p>You could use the default parameters for each algorithm. These are the parameters set by rules of thumb or suggestions in books and research papers. But how do you know the algorithms that you are settling on are showing their best performance?</p>
<h3>Use Algorithm Tuning To Search For Algorithm Parameters</h3>
<p>The answer is to search for good or even best combinations of algorithm parameters for your problem.</p>
<p>You need a process to tune each machine learning algorithm to know that you are getting the most out of it. Once tuned, you can make an objective comparison between the algorithms on your shortlist.</p>
<p>Searching for algorithm parameters can be difficult, there are many options, such as:</p>
<ul>
<li>What parameters to tune?</li>
<li>What search method to use to locate good algorithm parameters?</li>
<li>What test options to use to limit overfitting the training data?</li>
</ul>
<!-- Start shortcoder --><p></p><div class="woo-sc-hr"></div>
<center>
<h3>Need more elp with R for Machine Learning?</h3>
<p>Take my free 14-day email course and discover how to use R on your project (with sample code).</p>
<p>Click to sign-up and also get a free PDF Ebook version of the course.</p>
<p><a href="https://machinelearningmastery.lpages.co/leadbox/141caac73f72a2%3A164f8be4f346dc/5734055144325120/" style="background: rgb(255, 206, 10); color: rgb(255, 255, 255); text-decoration: none; font-family: Helvetica, Arial, sans-serif; font-weight: bold; font-size: 16px; line-height: 20px; padding: 10px; display: inline-block; max-width: 300px; border-radius: 5px; text-shadow: rgba(0, 0, 0, 0.25) 0px -1px 1px; box-shadow: rgba(255, 255, 255, 0.5) 0px 1px 3px inset, rgba(0, 0, 0, 0.5) 0px 1px 3px;" target="_blank">Start Your FREE Mini-Course Now!</a><script data-config="%7B%7D" data-leadbox="141caac73f72a2:164f8be4f346dc" data-url="https://machinelearningmastery.lpages.co/leadbox/141caac73f72a2%3A164f8be4f346dc/5734055144325120/" src="https://machinelearningmastery.lpages.co/leadbox-1500583721.js" type="text/javascript"></script></p>
</center>
<p></p><div class="woo-sc-hr"></div><!-- End shortcoder v4.1.5-->
<h2>Tune Machine Learning Algorithms in R</h2>
<p>You can tune your machine learning algorithm parameters in R.</p>
<p>Generally, the approaches in this section assume that you already have a short list of well-performing machine learning algorithms for your problem from which you are looking to get better performance.</p>
<p>An excellent way to create your shortlist of well-performing algorithms is to use the caret package.</p>
<p>For more on how to use the caret package, see:</p>
<ul>
<li><a href="http://machinelearningmastery.com/caret-r-package-for-applied-predictive-modeling/">Caret R Package for Applied Predictive Modeling</a></li>
</ul>
<p>In this section we will look at three methods that you can use in R to tune algorithm parameters:</p>
<ol>
<li>Using the caret R package.</li>
<li>Using tools that come with the algorithm.</li>
<li>Designing your own parameter search.</li>
</ol>
<p>Before we start tuning, let’s setup our environment and test data.</p>
<h3>Test Setup</h3>
<p>Let’s take a quick look at the data and the algorithm we will use in this case study.</p>
<h4>Test Dataset</h4>
<p>In this case study, we will use the sonar test problem.</p>
<p>This is a dataset from the <a href="http://machinelearningmastery.com/practice-machine-learning-with-small-in-memory-datasets-from-the-uci-machine-learning-repository/">UCI Machine Learning Repository</a> that describes radar returns as either bouncing off metal or rocks.</p>
<p>It is a binary classification problem with 60 numerical input features that describe the properties of the radar return. You can learn more about this problem here: <a href="https://archive.ics.uci.edu/ml/datasets/Connectionist+Bench+(Sonar,+Mines+vs.+Rocks)">Sonar Dataset</a>. You can see world class published results for this dataset here: <a href="http://www.is.umk.pl/projects/datasets.html#Sonar">Accuracy on the Sonar Dataset</a>.</p>
<p>This is not a particularly difficult dataset, but is non-trivial and interesting for this example.</p>
<p>Let’s load the required libraries and load the dataset from the <em>mlbench</em> package.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe7832669869721" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
library(randomForest)
library(mlbench)
library(caret)

# Load Dataset
data(Sonar)
dataset &lt;- Sonar
x &lt;- dataset[,1:60]
y &lt;- dataset[,61]</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe7832669869721-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7832669869721-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe7832669869721-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7832669869721-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe7832669869721-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7832669869721-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe7832669869721-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7832669869721-8">8</div><div class="crayon-num" data-line="crayon-5a6592cbe7832669869721-9">9</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe7832669869721-1"><span class="crayon-e">library</span><span class="crayon-sy">(</span><span class="crayon-v">randomForest</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7832669869721-2"><span class="crayon-e">library</span><span class="crayon-sy">(</span><span class="crayon-v">mlbench</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7832669869721-3"><span class="crayon-e">library</span><span class="crayon-sy">(</span><span class="crayon-v">caret</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7832669869721-4"> </div><div class="crayon-line" id="crayon-5a6592cbe7832669869721-5"><span class="crayon-p"># Load Dataset</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7832669869721-6"><span class="crayon-e">data</span><span class="crayon-sy">(</span><span class="crayon-v">Sonar</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7832669869721-7"><span class="crayon-v">dataset</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">Sonar</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7832669869721-8"><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">dataset</span><span class="crayon-sy">[</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-cn">60</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5a6592cbe7832669869721-9"><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">dataset</span><span class="crayon-sy">[</span><span class="crayon-sy">,</span><span class="crayon-cn">61</span><span class="crayon-sy">]</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<h4>Test Algorithm</h4>
<p>We will use the popular Random Forest algorithm as the subject of our algorithm tuning.</p>
<p>Random Forest is not necessarily the best algorithm for this dataset, but it is a very popular algorithm and no doubt you will find tuning it a useful exercise in you own machine learning work.</p>
<p>When tuning an algorithm, it is important to have a good understanding of your algorithm so that you know what affect the parameters have on the model you are creating.</p>
<p>In this case study, we will stick to tuning two parameters, namely the <em>mtry</em> and the <em>ntree</em> parameters that have the following affect on our random forest model. There are many other parameters, but these two parameters are perhaps the most likely to have the biggest effect on your final accuracy.</p>
<p>Direct from the help page for the <em>randomForest()</em> function in R:</p>
<ul>
<li><strong>mtry</strong>: Number of variables randomly sampled as candidates at each split.</li>
<li><strong>ntree</strong>: Number of trees to grow.</li>
</ul>
<p>Let’s create a baseline for comparison by using the recommend defaults for each parameter and <em>mtry=floor(sqrt(ncol(x)))</em> or mtry=7 and ntree=500.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe7844349812226" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
# Create model with default paramters
control &lt;- trainControl(method="repeatedcv", number=10, repeats=3)
seed &lt;- 7
metric &lt;- "Accuracy"
set.seed(seed)
mtry &lt;- sqrt(ncol(x))
tunegrid &lt;- expand.grid(.mtry=mtry)
rf_default &lt;- train(Class~., data=dataset, method="rf", metric=metric, tuneGrid=tunegrid, trControl=control)
print(rf_default)</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe7844349812226-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7844349812226-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe7844349812226-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7844349812226-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe7844349812226-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7844349812226-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe7844349812226-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7844349812226-8">8</div><div class="crayon-num" data-line="crayon-5a6592cbe7844349812226-9">9</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe7844349812226-1"><span class="crayon-p"># Create model with default paramters</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7844349812226-2"><span class="crayon-v">control</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">trainControl</span><span class="crayon-sy">(</span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"repeatedcv"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">number</span><span class="crayon-o">=</span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">repeats</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7844349812226-3"><span class="crayon-v">seed</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7844349812226-4"><span class="crayon-v">metric</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-s">"Accuracy"</span></div><div class="crayon-line" id="crayon-5a6592cbe7844349812226-5"><span class="crayon-v">set</span><span class="crayon-sy">.</span><span class="crayon-e">seed</span><span class="crayon-sy">(</span><span class="crayon-v">seed</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7844349812226-6"><span class="crayon-v">mtry</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">sqrt</span><span class="crayon-sy">(</span><span class="crayon-e">ncol</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7844349812226-7"><span class="crayon-v">tunegrid</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">expand</span><span class="crayon-sy">.</span><span class="crayon-e">grid</span><span class="crayon-sy">(</span><span class="crayon-sy">.</span><span class="crayon-v">mtry</span><span class="crayon-o">=</span><span class="crayon-v">mtry</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7844349812226-8"><span class="crayon-v">rf_default</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">train</span><span class="crayon-sy">(</span><span class="crayon-t">Class</span><span class="crayon-o">~</span><span class="crayon-sy">.</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-v">dataset</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"rf"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">metric</span><span class="crayon-o">=</span><span class="crayon-v">metric</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">tuneGrid</span><span class="crayon-o">=</span><span class="crayon-v">tunegrid</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">trControl</span><span class="crayon-o">=</span><span class="crayon-v">control</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7844349812226-9"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">rf_default</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>We can see our estimated accuracy is 81.3%.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe784a531039589" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
Resampling results

  Accuracy   Kappa      Accuracy SD  Kappa SD 
  0.8138384  0.6209924  0.0747572    0.1569159</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe784a531039589-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe784a531039589-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe784a531039589-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe784a531039589-4">4</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe784a531039589-1">Resampling results</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe784a531039589-2"> </div><div class="crayon-line" id="crayon-5a6592cbe784a531039589-3">  Accuracy   Kappa      Accuracy SD  Kappa SD </div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe784a531039589-4">  0.8138384  0.6209924  0.0747572    0.1569159</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<h3>1. Tune Using Caret</h3>
<p>The caret package in R provides an excellent facility to tune machine learning algorithm parameters.</p>
<p>Not all machine learning algorithms are available in caret for tuning. The choice of parameters is left to the developers of the package, namely Max Khun. Only those algorithm parameters that have a large effect (e.g. really require tuning in Khun’s opinion) are available for tuning in caret.</p>
<p>As such, only <em>mtry</em> parameter is available in caret for tuning. The reason is its effect on the final accuracy and that it must be found empirically for a dataset.</p>
<p>The <em>ntree</em> parameter is different in that it can be as large as you like, and continues to increases the accuracy up to some point. It is less difficult or critical to tune and could be limited more by compute time available more than anything.</p>
<h4>Random Search</h4>
<p>One search strategy that we can use is to try random values within a range.</p>
<p>This can be good if we are unsure of what the value might be and we want to overcome any biases we may have for setting the parameter (like the suggested equation above).</p>
<p>Let’s try a random search for <em>mtry</em> using caret:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe784f255960491" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
# Random Search
control &lt;- trainControl(method="repeatedcv", number=10, repeats=3, search="random")
set.seed(seed)
mtry &lt;- sqrt(ncol(x))
rf_random &lt;- train(Class~., data=dataset, method="rf", metric=metric, tuneLength=15, trControl=control)
print(rf_random)
plot(rf_random)</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe784f255960491-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe784f255960491-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe784f255960491-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe784f255960491-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe784f255960491-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe784f255960491-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe784f255960491-7">7</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe784f255960491-1"><span class="crayon-p"># Random Search</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe784f255960491-2"><span class="crayon-v">control</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">trainControl</span><span class="crayon-sy">(</span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"repeatedcv"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">number</span><span class="crayon-o">=</span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">repeats</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">search</span><span class="crayon-o">=</span><span class="crayon-s">"random"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe784f255960491-3"><span class="crayon-v">set</span><span class="crayon-sy">.</span><span class="crayon-e">seed</span><span class="crayon-sy">(</span><span class="crayon-v">seed</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe784f255960491-4"><span class="crayon-v">mtry</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">sqrt</span><span class="crayon-sy">(</span><span class="crayon-e">ncol</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe784f255960491-5"><span class="crayon-v">rf_random</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">train</span><span class="crayon-sy">(</span><span class="crayon-t">Class</span><span class="crayon-o">~</span><span class="crayon-sy">.</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-v">dataset</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"rf"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">metric</span><span class="crayon-o">=</span><span class="crayon-v">metric</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">tuneLength</span><span class="crayon-o">=</span><span class="crayon-cn">15</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">trControl</span><span class="crayon-o">=</span><span class="crayon-v">control</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe784f255960491-6"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">rf_random</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe784f255960491-7"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">rf_random</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>Note, that we are using a test harness similar to that which we would use to spot check algorithms. Both 10-fold cross-validation and 3 repeats slows down the search process, but is intended to limit and reduce overfitting on the training set. It won’t remove overfitting entirely. Holding back a validation set for final checking is a great idea if you can spare the data.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe7853686726431" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
Resampling results across tuning parameters:

  mtry  Accuracy   Kappa      Accuracy SD  Kappa SD 
  11    0.8218470  0.6365181  0.09124610   0.1906693
  14    0.8140620  0.6215867  0.08475785   0.1750848
  17    0.8030231  0.5990734  0.09595988   0.1986971
  24    0.8042929  0.6002362  0.09847815   0.2053314
  30    0.7933333  0.5798250  0.09110171   0.1879681
  34    0.8015873  0.5970248  0.07931664   0.1621170
  45    0.7932612  0.5796828  0.09195386   0.1887363
  47    0.7903896  0.5738230  0.10325010   0.2123314
  49    0.7867532  0.5673879  0.09256912   0.1899197
  50    0.7775397  0.5483207  0.10118502   0.2063198
  60    0.7790476  0.5513705  0.09810647   0.2005012</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe7853686726431-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7853686726431-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe7853686726431-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7853686726431-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe7853686726431-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7853686726431-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe7853686726431-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7853686726431-8">8</div><div class="crayon-num" data-line="crayon-5a6592cbe7853686726431-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7853686726431-10">10</div><div class="crayon-num" data-line="crayon-5a6592cbe7853686726431-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7853686726431-12">12</div><div class="crayon-num" data-line="crayon-5a6592cbe7853686726431-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7853686726431-14">14</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe7853686726431-1">Resampling results across tuning parameters:</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7853686726431-2"> </div><div class="crayon-line" id="crayon-5a6592cbe7853686726431-3">  mtry  Accuracy   Kappa      Accuracy SD  Kappa SD </div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7853686726431-4">  11    0.8218470  0.6365181  0.09124610   0.1906693</div><div class="crayon-line" id="crayon-5a6592cbe7853686726431-5">  14    0.8140620  0.6215867  0.08475785   0.1750848</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7853686726431-6">  17    0.8030231  0.5990734  0.09595988   0.1986971</div><div class="crayon-line" id="crayon-5a6592cbe7853686726431-7">  24    0.8042929  0.6002362  0.09847815   0.2053314</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7853686726431-8">  30    0.7933333  0.5798250  0.09110171   0.1879681</div><div class="crayon-line" id="crayon-5a6592cbe7853686726431-9">  34    0.8015873  0.5970248  0.07931664   0.1621170</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7853686726431-10">  45    0.7932612  0.5796828  0.09195386   0.1887363</div><div class="crayon-line" id="crayon-5a6592cbe7853686726431-11">  47    0.7903896  0.5738230  0.10325010   0.2123314</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7853686726431-12">  49    0.7867532  0.5673879  0.09256912   0.1899197</div><div class="crayon-line" id="crayon-5a6592cbe7853686726431-13">  50    0.7775397  0.5483207  0.10118502   0.2063198</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7853686726431-14">  60    0.7790476  0.5513705  0.09810647   0.2005012</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>We can see that the most accurate value for mtry was 11 with an accuracy of 82.1%.</p>
<div class="wp-caption aligncenter" id="attachment_2183" style="max-width: 772px"><img alt="Tune Random Forest Parameters in R Using Random Search" class="size-full wp-image-2183" height="764" sizes="(max-width: 762px) 100vw, 762px" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-Using-Random-Search.png" srcset="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-Using-Random-Search.png 762w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-Using-Random-Search-150x150.png 150w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-Using-Random-Search-300x300.png 300w" width="762"/><p class="wp-caption-text">Tune Random Forest Parameters in R Using Random Search</p></div>
<h4>Grid Search</h4>
<p>Another search is to define a grid of algorithm parameters to try.</p>
<p>Each axis of the grid is an algorithm parameter, and points in the grid are specific combinations of parameters. Because we are only tuning one parameter, the grid search is a linear search through a vector of candidate values.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe7859958524351" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
control &lt;- trainControl(method="repeatedcv", number=10, repeats=3, search="grid")
set.seed(seed)
tunegrid &lt;- expand.grid(.mtry=c(1:15))
rf_gridsearch &lt;- train(Class~., data=dataset, method="rf", metric=metric, tuneGrid=tunegrid, trControl=control)
print(rf_gridsearch)
plot(rf_gridsearch)</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe7859958524351-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7859958524351-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe7859958524351-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7859958524351-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe7859958524351-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7859958524351-6">6</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe7859958524351-1"><span class="crayon-v">control</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">trainControl</span><span class="crayon-sy">(</span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"repeatedcv"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">number</span><span class="crayon-o">=</span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">repeats</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">search</span><span class="crayon-o">=</span><span class="crayon-s">"grid"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7859958524351-2"><span class="crayon-v">set</span><span class="crayon-sy">.</span><span class="crayon-e">seed</span><span class="crayon-sy">(</span><span class="crayon-v">seed</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7859958524351-3"><span class="crayon-v">tunegrid</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">expand</span><span class="crayon-sy">.</span><span class="crayon-e">grid</span><span class="crayon-sy">(</span><span class="crayon-sy">.</span><span class="crayon-v">mtry</span><span class="crayon-o">=</span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-cn">15</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7859958524351-4"><span class="crayon-v">rf_gridsearch</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">train</span><span class="crayon-sy">(</span><span class="crayon-t">Class</span><span class="crayon-o">~</span><span class="crayon-sy">.</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-v">dataset</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"rf"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">metric</span><span class="crayon-o">=</span><span class="crayon-v">metric</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">tuneGrid</span><span class="crayon-o">=</span><span class="crayon-v">tunegrid</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">trControl</span><span class="crayon-o">=</span><span class="crayon-v">control</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7859958524351-5"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">rf_gridsearch</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7859958524351-6"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">rf_gridsearch</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>We can see that the most accurate value for mtry was 2 with an accuracy of 83.78%.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe785d447442217" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
Resampling results across tuning parameters:

  mtry  Accuracy   Kappa      Accuracy SD  Kappa SD 
   1    0.8377273  0.6688712  0.07154794   0.1507990
   2    0.8378932  0.6693593  0.07185686   0.1513988
   3    0.8314502  0.6564856  0.08191277   0.1700197
   4    0.8249567  0.6435956  0.07653933   0.1590840
   5    0.8268470  0.6472114  0.06787878   0.1418983
   6    0.8298701  0.6537667  0.07968069   0.1654484
   7    0.8282035  0.6493708  0.07492042   0.1584772
   8    0.8232828  0.6396484  0.07468091   0.1571185
   9    0.8268398  0.6476575  0.07355522   0.1529670
  10    0.8204906  0.6346991  0.08499469   0.1756645
  11    0.8073304  0.6071477  0.09882638   0.2055589
  12    0.8184488  0.6299098  0.09038264   0.1884499
  13    0.8093795  0.6119327  0.08788302   0.1821910
  14    0.8186797  0.6304113  0.08178957   0.1715189
  15    0.8168615  0.6265481  0.10074984   0.2091663</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe785d447442217-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe785d447442217-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe785d447442217-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe785d447442217-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe785d447442217-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe785d447442217-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe785d447442217-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe785d447442217-8">8</div><div class="crayon-num" data-line="crayon-5a6592cbe785d447442217-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe785d447442217-10">10</div><div class="crayon-num" data-line="crayon-5a6592cbe785d447442217-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe785d447442217-12">12</div><div class="crayon-num" data-line="crayon-5a6592cbe785d447442217-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe785d447442217-14">14</div><div class="crayon-num" data-line="crayon-5a6592cbe785d447442217-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe785d447442217-16">16</div><div class="crayon-num" data-line="crayon-5a6592cbe785d447442217-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe785d447442217-18">18</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe785d447442217-1">Resampling results across tuning parameters:</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe785d447442217-2"> </div><div class="crayon-line" id="crayon-5a6592cbe785d447442217-3">  mtry  Accuracy   Kappa      Accuracy SD  Kappa SD </div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe785d447442217-4">   1    0.8377273  0.6688712  0.07154794   0.1507990</div><div class="crayon-line" id="crayon-5a6592cbe785d447442217-5">   2    0.8378932  0.6693593  0.07185686   0.1513988</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe785d447442217-6">   3    0.8314502  0.6564856  0.08191277   0.1700197</div><div class="crayon-line" id="crayon-5a6592cbe785d447442217-7">   4    0.8249567  0.6435956  0.07653933   0.1590840</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe785d447442217-8">   5    0.8268470  0.6472114  0.06787878   0.1418983</div><div class="crayon-line" id="crayon-5a6592cbe785d447442217-9">   6    0.8298701  0.6537667  0.07968069   0.1654484</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe785d447442217-10">   7    0.8282035  0.6493708  0.07492042   0.1584772</div><div class="crayon-line" id="crayon-5a6592cbe785d447442217-11">   8    0.8232828  0.6396484  0.07468091   0.1571185</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe785d447442217-12">   9    0.8268398  0.6476575  0.07355522   0.1529670</div><div class="crayon-line" id="crayon-5a6592cbe785d447442217-13">  10    0.8204906  0.6346991  0.08499469   0.1756645</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe785d447442217-14">  11    0.8073304  0.6071477  0.09882638   0.2055589</div><div class="crayon-line" id="crayon-5a6592cbe785d447442217-15">  12    0.8184488  0.6299098  0.09038264   0.1884499</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe785d447442217-16">  13    0.8093795  0.6119327  0.08788302   0.1821910</div><div class="crayon-line" id="crayon-5a6592cbe785d447442217-17">  14    0.8186797  0.6304113  0.08178957   0.1715189</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe785d447442217-18">  15    0.8168615  0.6265481  0.10074984   0.2091663</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p><div class="wp-caption aligncenter" id="attachment_2184" style="max-width: 766px"><img alt="Tune Random Forest Parameters in R Using Grid Search.png" class="size-full wp-image-2184" height="759" sizes="(max-width: 756px) 100vw, 756px" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-Using-Grid-Search.png.png" srcset="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-Using-Grid-Search.png.png 756w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-Using-Grid-Search.png-150x150.png 150w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-Using-Grid-Search.png-300x300.png 300w" width="756"/><p class="wp-caption-text">Tune Random Forest Parameters in R Using Grid Search.png</p></div>
<h3>2. Tune Using Algorithm Tools</h3>
<p>Some algorithms provide tools for tuning the parameters of the algorithm.</p>
<p>For example, the random forest algorithm implementation in the randomForest package provides the <em>tuneRF()</em> function that searches for optimal <em>mtry</em> values given your data.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe7862251167504" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
# Algorithm Tune (tuneRF)
set.seed(seed)
bestmtry &lt;- tuneRF(x, y, stepFactor=1.5, improve=1e-5, ntree=500)
print(bestmtry)</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe7862251167504-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7862251167504-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe7862251167504-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7862251167504-4">4</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe7862251167504-1"><span class="crayon-p"># Algorithm Tune (tuneRF)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7862251167504-2"><span class="crayon-v">set</span><span class="crayon-sy">.</span><span class="crayon-e">seed</span><span class="crayon-sy">(</span><span class="crayon-v">seed</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7862251167504-3"><span class="crayon-v">bestmtry</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">tuneRF</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">stepFactor</span><span class="crayon-o">=</span><span class="crayon-cn">1.5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">improve</span><span class="crayon-o">=</span><span class="crayon-cn">1e</span><span class="crayon-o">-</span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ntree</span><span class="crayon-o">=</span><span class="crayon-cn">500</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7862251167504-4"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">bestmtry</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>You can see that the most accurate value for <em>mtry</em> was 10 with an OOBError of 0.1442308.</p>
<p>This does not really match up with what we saw in the caret repeated cross validation experiment above, where <em>mtry=10</em> gave an accuracy of 82.04%. Nevertheless, it is an alternate way to tune the algorithm.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe7867680971927" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
       mtry  OOBError
5.OOB     5 0.1538462
7.OOB     7 0.1538462
10.OOB   10 0.1442308
15.OOB   15 0.1682692</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe7867680971927-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7867680971927-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe7867680971927-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7867680971927-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe7867680971927-5">5</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe7867680971927-1">       mtry  OOBError</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7867680971927-2">5.OOB     5 0.1538462</div><div class="crayon-line" id="crayon-5a6592cbe7867680971927-3">7.OOB     7 0.1538462</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7867680971927-4">10.OOB   10 0.1442308</div><div class="crayon-line" id="crayon-5a6592cbe7867680971927-5">15.OOB   15 0.1682692</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p><div class="wp-caption aligncenter" id="attachment_2185" style="max-width: 752px"><img alt="Tune Random Forest Parameters in R using tuneRF" class="size-full wp-image-2185" height="741" sizes="(max-width: 742px) 100vw, 742px" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-using-tuneRF.png" srcset="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-using-tuneRF.png 742w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-using-tuneRF-150x150.png 150w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parameters-in-R-using-tuneRF-300x300.png 300w" width="742"/><p class="wp-caption-text">Tune Random Forest Parameters in R using tuneRF</p></div>
<h3>3. Craft Your Own Parameter Search</h3>
<p>Often you want to search for both the parameters that must be tuned (handled by caret) and the those that need to be scaled or adapted more generally for your dataset.</p>
<p>You have to craft your own parameter search.</p>
<p>Two popular options that I recommend are:</p>
<ol>
<li><strong>Tune Manually</strong>: Write R code to create lots of models and compare their accuracy using caret</li>
<li><strong>Extend Caret</strong>: Create an extension to caret that adds in additional parameters to caret for the algorithm you want to tune.</li>
</ol>
<h4>Tune Manually</h4>
<p>We want to keep using caret because it provides a direct point of comparison to our previous models (apples to apples, even the same data splits) and because of the repeated cross validation test harness that we like as it reduces the severity of overfitting.</p>
<p>One approach is to create many caret models for our algorithm and pass in a different parameters directly to the algorithm manually. Let’s look at an example doing this to evaluate different values for <em>ntree</em> while holding <em>mtry</em> constant.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe786c028508599" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
# Manual Search
control &lt;- trainControl(method="repeatedcv", number=10, repeats=3, search="grid")
tunegrid &lt;- expand.grid(.mtry=c(sqrt(ncol(x))))
modellist &lt;- list()
for (ntree in c(1000, 1500, 2000, 2500)) {
	set.seed(seed)
	fit &lt;- train(Class~., data=dataset, method="rf", metric=metric, tuneGrid=tunegrid, trControl=control, ntree=ntree)
	key &lt;- toString(ntree)
	modellist[[key]] &lt;- fit
}
# compare results
results &lt;- resamples(modellist)
summary(results)
dotplot(results)</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe786c028508599-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe786c028508599-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe786c028508599-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe786c028508599-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe786c028508599-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe786c028508599-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe786c028508599-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe786c028508599-8">8</div><div class="crayon-num" data-line="crayon-5a6592cbe786c028508599-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe786c028508599-10">10</div><div class="crayon-num" data-line="crayon-5a6592cbe786c028508599-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe786c028508599-12">12</div><div class="crayon-num" data-line="crayon-5a6592cbe786c028508599-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe786c028508599-14">14</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe786c028508599-1"><span class="crayon-p"># Manual Search</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe786c028508599-2"><span class="crayon-v">control</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">trainControl</span><span class="crayon-sy">(</span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"repeatedcv"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">number</span><span class="crayon-o">=</span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">repeats</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">search</span><span class="crayon-o">=</span><span class="crayon-s">"grid"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe786c028508599-3"><span class="crayon-v">tunegrid</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">expand</span><span class="crayon-sy">.</span><span class="crayon-e">grid</span><span class="crayon-sy">(</span><span class="crayon-sy">.</span><span class="crayon-v">mtry</span><span class="crayon-o">=</span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-e">sqrt</span><span class="crayon-sy">(</span><span class="crayon-e">ncol</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe786c028508599-4"><span class="crayon-v">modellist</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">list</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe786c028508599-5"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">ntree </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-cn">1000</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1500</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2000</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2500</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe786c028508599-6"><span class="crayon-h"> </span><span class="crayon-v">set</span><span class="crayon-sy">.</span><span class="crayon-e">seed</span><span class="crayon-sy">(</span><span class="crayon-v">seed</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe786c028508599-7"><span class="crayon-h"> </span><span class="crayon-v">fit</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">train</span><span class="crayon-sy">(</span><span class="crayon-t">Class</span><span class="crayon-o">~</span><span class="crayon-sy">.</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-v">dataset</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"rf"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">metric</span><span class="crayon-o">=</span><span class="crayon-v">metric</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">tuneGrid</span><span class="crayon-o">=</span><span class="crayon-v">tunegrid</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">trControl</span><span class="crayon-o">=</span><span class="crayon-v">control</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ntree</span><span class="crayon-o">=</span><span class="crayon-v">ntree</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe786c028508599-8"><span class="crayon-h"> </span><span class="crayon-v">key</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-v">ntree</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe786c028508599-9"><span class="crayon-h"> </span><span class="crayon-v">modellist</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-v">key</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-i">fit</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe786c028508599-10"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a6592cbe786c028508599-11"><span class="crayon-p"># compare results</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe786c028508599-12"><span class="crayon-v">results</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">resamples</span><span class="crayon-sy">(</span><span class="crayon-v">modellist</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe786c028508599-13"><span class="crayon-e">summary</span><span class="crayon-sy">(</span><span class="crayon-v">results</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe786c028508599-14"><span class="crayon-e">dotplot</span><span class="crayon-sy">(</span><span class="crayon-v">results</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>You can see that the most accuracy value for <em>ntree</em> was perhaps 2000 with a mean accuracy of 82.02% (a lift over our very first experiment using the default mtry value).</p>
<p>The results perhaps suggest an optimal value for ntree between 2000 and 2500. Also note, we held mtry constant at the default value. We could repeat the experiment with a possible better <em>mtry=2</em> from the experiment above, or try combinations of of ntree and mtry in case they have interaction effects.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe7872501090792" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
Models: 1000, 1500, 2000, 2500 
Number of resamples: 30 

Accuracy 
      Min. 1st Qu. Median   Mean 3rd Qu.   Max. NA's
1000 0.600  0.8024 0.8500 0.8186  0.8571 0.9048    0
1500 0.600  0.8024 0.8095 0.8169  0.8571 0.9500    0
2000 0.619  0.8024 0.8095 0.8202  0.8620 0.9048    0
2500 0.619  0.8000 0.8095 0.8201  0.8893 0.9091    0</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe7872501090792-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7872501090792-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe7872501090792-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7872501090792-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe7872501090792-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7872501090792-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe7872501090792-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7872501090792-8">8</div><div class="crayon-num" data-line="crayon-5a6592cbe7872501090792-9">9</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe7872501090792-1">Models: 1000, 1500, 2000, 2500 </div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7872501090792-2">Number of resamples: 30 </div><div class="crayon-line" id="crayon-5a6592cbe7872501090792-3"> </div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7872501090792-4">Accuracy </div><div class="crayon-line" id="crayon-5a6592cbe7872501090792-5">      Min. 1st Qu. Median   Mean 3rd Qu.   Max. NA's</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7872501090792-6">1000 0.600  0.8024 0.8500 0.8186  0.8571 0.9048    0</div><div class="crayon-line" id="crayon-5a6592cbe7872501090792-7">1500 0.600  0.8024 0.8095 0.8169  0.8571 0.9500    0</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7872501090792-8">2000 0.619  0.8024 0.8095 0.8202  0.8620 0.9048    0</div><div class="crayon-line" id="crayon-5a6592cbe7872501090792-9">2500 0.619  0.8000 0.8095 0.8201  0.8893 0.9091    0</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p><div class="wp-caption aligncenter" id="attachment_2186" style="max-width: 768px"><img alt="Tune Random Forest Parameters in R Manually" class="wp-image-2186 size-full" height="758" sizes="(max-width: 758px) 100vw, 758px" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parametres-in-R-Manually.png" srcset="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parametres-in-R-Manually.png 758w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parametres-in-R-Manually-150x150.png 150w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Tune-Random-Forest-Parametres-in-R-Manually-300x300.png 300w" width="758"/><p class="wp-caption-text">Tune Random Forest Parameters in R Manually</p></div>
<h4>Extend Caret</h4>
<p>Another approach is to create a “new” algorithm for caret to support.</p>
<p>This is the same random forest algorithm you are using, only modified so that it supports multiple tuning of multiple parameters.</p>
<p>A risk with this approach is that the caret native support for the algorithm has additional or fancy code wrapping it that subtly but importantly changes it’s behavior. You many need to repeat prior experiments with your custom algorithm support.</p>
<p>We can define our own algorithm to use in caret by defining a list that contains a number of custom named elements that the caret package looks for, such as how to fit and how to predict. See below for a definition of a custom random forest algorithm for use with caret that takes both an mtry and ntree parameters.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe7877613247754" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
customRF &lt;- list(type = "Classification", library = "randomForest", loop = NULL)
customRF$parameters &lt;- data.frame(parameter = c("mtry", "ntree"), class = rep("numeric", 2), label = c("mtry", "ntree"))
customRF$grid &lt;- function(x, y, len = NULL, search = "grid") {}
customRF$fit &lt;- function(x, y, wts, param, lev, last, weights, classProbs, ...) {
  randomForest(x, y, mtry = param$mtry, ntree=param$ntree, ...)
}
customRF$predict &lt;- function(modelFit, newdata, preProc = NULL, submodels = NULL)
   predict(modelFit, newdata)
customRF$prob &lt;- function(modelFit, newdata, preProc = NULL, submodels = NULL)
   predict(modelFit, newdata, type = "prob")
customRF$sort &lt;- function(x) x[order(x[,1]),]
customRF$levels &lt;- function(x) x$classes</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe7877613247754-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7877613247754-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe7877613247754-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7877613247754-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe7877613247754-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7877613247754-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe7877613247754-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7877613247754-8">8</div><div class="crayon-num" data-line="crayon-5a6592cbe7877613247754-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7877613247754-10">10</div><div class="crayon-num" data-line="crayon-5a6592cbe7877613247754-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7877613247754-12">12</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe7877613247754-1"><span class="crayon-v">customRF</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">list</span><span class="crayon-sy">(</span><span class="crayon-v">type</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Classification"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">library</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"randomForest"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">loop</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">NULL</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7877613247754-2"><span class="crayon-v">customRF</span><span class="crayon-sy">$</span><span class="crayon-v">parameters</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-e">frame</span><span class="crayon-sy">(</span><span class="crayon-v">parameter</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-s">"mtry"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"ntree"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">rep</span><span class="crayon-sy">(</span><span class="crayon-s">"numeric"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">label</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-s">"mtry"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"ntree"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7877613247754-3"><span class="crayon-v">customRF</span><span class="crayon-sy">$</span><span class="crayon-v">grid</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">NULL</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">search</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"grid"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7877613247754-4"><span class="crayon-v">customRF</span><span class="crayon-sy">$</span><span class="crayon-v">fit</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">wts</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">param</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lev</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">last</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">weights</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">classProbs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a6592cbe7877613247754-5"><span class="crayon-h">  </span><span class="crayon-e">randomForest</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">mtry</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">param</span><span class="crayon-sy">$</span><span class="crayon-v">mtry</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ntree</span><span class="crayon-o">=</span><span class="crayon-v">param</span><span class="crayon-sy">$</span><span class="crayon-v">ntree</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7877613247754-6"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a6592cbe7877613247754-7"><span class="crayon-v">customRF</span><span class="crayon-sy">$</span><span class="crayon-v">predict</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">modelFit</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">newdata</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">preProc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">NULL</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">submodels</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">NULL</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7877613247754-8"><span class="crayon-h">   </span><span class="crayon-e">predict</span><span class="crayon-sy">(</span><span class="crayon-v">modelFit</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">newdata</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7877613247754-9"><span class="crayon-v">customRF</span><span class="crayon-sy">$</span><span class="crayon-v">prob</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">modelFit</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">newdata</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">preProc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">NULL</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">submodels</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">NULL</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7877613247754-10"><span class="crayon-h">   </span><span class="crayon-e">predict</span><span class="crayon-sy">(</span><span class="crayon-v">modelFit</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">newdata</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"prob"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe7877613247754-11"><span class="crayon-v">customRF</span><span class="crayon-sy">$</span><span class="crayon-v">sort</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">[</span><span class="crayon-e">order</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">[</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7877613247754-12"><span class="crayon-v">customRF</span><span class="crayon-sy">$</span><span class="crayon-v">levels</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">$</span><span class="crayon-v">classes</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0027 seconds] -->
<p>Now, let’s make use of this custom list in our call to the caret train function, and try tuning different values for ntree and mtry.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe787c609223321" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
# train model
control &lt;- trainControl(method="repeatedcv", number=10, repeats=3)
tunegrid &lt;- expand.grid(.mtry=c(1:15), .ntree=c(1000, 1500, 2000, 2500))
set.seed(seed)
custom &lt;- train(Class~., data=dataset, method=customRF, metric=metric, tuneGrid=tunegrid, trControl=control)
summary(custom)
plot(custom)</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe787c609223321-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe787c609223321-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe787c609223321-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe787c609223321-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe787c609223321-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe787c609223321-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe787c609223321-7">7</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe787c609223321-1"><span class="crayon-p"># train model</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe787c609223321-2"><span class="crayon-v">control</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">trainControl</span><span class="crayon-sy">(</span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"repeatedcv"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">number</span><span class="crayon-o">=</span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">repeats</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe787c609223321-3"><span class="crayon-v">tunegrid</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">expand</span><span class="crayon-sy">.</span><span class="crayon-e">grid</span><span class="crayon-sy">(</span><span class="crayon-sy">.</span><span class="crayon-v">mtry</span><span class="crayon-o">=</span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-cn">15</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-v">ntree</span><span class="crayon-o">=</span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-cn">1000</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1500</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2000</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2500</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe787c609223321-4"><span class="crayon-v">set</span><span class="crayon-sy">.</span><span class="crayon-e">seed</span><span class="crayon-sy">(</span><span class="crayon-v">seed</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe787c609223321-5"><span class="crayon-v">custom</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">train</span><span class="crayon-sy">(</span><span class="crayon-t">Class</span><span class="crayon-o">~</span><span class="crayon-sy">.</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-v">dataset</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-v">customRF</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">metric</span><span class="crayon-o">=</span><span class="crayon-v">metric</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">tuneGrid</span><span class="crayon-o">=</span><span class="crayon-v">tunegrid</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">trControl</span><span class="crayon-o">=</span><span class="crayon-v">control</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe787c609223321-6"><span class="crayon-e">summary</span><span class="crayon-sy">(</span><span class="crayon-v">custom</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a6592cbe787c609223321-7"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">custom</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>This may take a minute or two to run.</p>
<p>You can see that the most accurate values for <em>ntree</em> and <em>mtry</em> were 2000 and 2 with an accuracy of 84.43%.</p>
<p>We do perhaps see some interaction effects between the number of trees and the value of <em>ntree</em>. Nevertheless, if we had chosen the best value for <em>mtry</em> found using grid search of 2 (above) and the best value of <em>ntree</em> found using grid search of 2000 (above), in this case we would have achieved the same level of tuning found in this combined search. This is a nice confirmation.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5a6592cbe7881105396816" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
  mtry  ntree  Accuracy   Kappa      Accuracy SD  Kappa SD 
   1    1000   0.8442424  0.6828299  0.06505226   0.1352640
   1    1500   0.8394805  0.6730868  0.05797828   0.1215990
   1    2000   0.8314646  0.6564643  0.06630279   0.1381197
   1    2500   0.8379654  0.6693773  0.06576468   0.1375408
   2    1000   0.8313781  0.6562819  0.06909608   0.1436961
   2    1500   0.8427345  0.6793793  0.07005975   0.1451269
   2    2000   0.8443218  0.6830115  0.06754346   0.1403497
   2    2500   0.8428066  0.6791639  0.06488132   0.1361329
   3    1000   0.8350216  0.6637523  0.06530816   0.1362839
   3    1500   0.8347908  0.6633405  0.06836512   0.1418106
   3    2000   0.8428066  0.6800703  0.06643838   0.1382763
   3    2500   0.8365296  0.6668480  0.06401429   0.1336583
   4    1000   0.8316955  0.6574476  0.06292132   0.1317857
   4    1500   0.8331241  0.6605244  0.07543919   0.1563171
   4    2000   0.8378860  0.6699428  0.07147459   0.1488322
   4    2500   0.8315368  0.6568128  0.06981259   0.1450390
   5    1000   0.8284343  0.6505097  0.07278539   0.1516109
   5    1500   0.8283622  0.6506604  0.07166975   0.1488037
   5    2000   0.8219336  0.6375155  0.07548501   0.1564718
   5    2500   0.8315440  0.6570792  0.07067743   0.1472716
   6    1000   0.8203391  0.6341073  0.08076304   0.1689558
   6    1500   0.8186797  0.6302188  0.07559694   0.1588256
   6    2000   0.8187590  0.6310555  0.07081621   0.1468780
   6    2500   0.8153463  0.6230495  0.07728249   0.1623253
   7    1000   0.8217027  0.6367189  0.07649651   0.1606837
   7    1500   0.8282828  0.6503808  0.06628953   0.1381925
   7    2000   0.8108081  0.6147563  0.07605609   0.1573067
   7    2500   0.8250361  0.6437397  0.07737756   0.1602434
   8    1000   0.8187590  0.6314307  0.08378631   0.1722251
   8    1500   0.8201876  0.6335679  0.07380001   0.1551340
   8    2000   0.8266883  0.6472907  0.06965118   0.1450607
   8    2500   0.8251082  0.6434251  0.07745300   0.1628087
   9    1000   0.8121717  0.6177751  0.08218598   0.1709987
   9    1500   0.8184488  0.6300547  0.08077766   0.1674261
   9    2000   0.8247980  0.6429315  0.07260439   0.1513512
   9    2500   0.8186003  0.6302674  0.07356916   0.1547231
  10    1000   0.8235209  0.6407121  0.07991334   0.1656978
  10    1500   0.8125541  0.6183581  0.06851683   0.1421993
  10    2000   0.8187518  0.6308120  0.08538951   0.1782368
  10    2500   0.8169336  0.6263682  0.07847066   0.1649216
  11    1000   0.8203463  0.6341158  0.07222587   0.1497558
  11    1500   0.8153463  0.6235878  0.09131621   0.1904418
  11    2000   0.8234416  0.6402906  0.07586609   0.1576765
  11    2500   0.8154906  0.6236875  0.07485835   0.1576576
  12    1000   0.8201948  0.6336913  0.08672139   0.1806589
  12    1500   0.8139105  0.6206994  0.08638618   0.1804780
  12    2000   0.8137590  0.6204461  0.07771424   0.1629707
  12    2500   0.8201876  0.6333194  0.07799832   0.1636237
  13    1000   0.8123232  0.6173280  0.09299062   0.1936232
  13    1500   0.8108802  0.6142721  0.08416414   0.1760527
  13    2000   0.8154257  0.6236191  0.08079923   0.1693634
  13    2500   0.8106566  0.6138814  0.08074394   0.1687437
  14    1000   0.8171645  0.6270292  0.08608806   0.1799346
  14    1500   0.8139033  0.6207263  0.08522205   0.1781396
  14    2000   0.8170924  0.6276518  0.08766645   0.1822010
  14    2500   0.8137590  0.6207371  0.08353328   0.1746425
  15    1000   0.8091486  0.6110154  0.08455439   0.1745129
  15    1500   0.8109668  0.6154780  0.08928549   0.1838700
  15    2000   0.8059740  0.6047791  0.08829659   0.1837809
  15    2500   0.8122511  0.6172771  0.08863418   0.1845635</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-2">2</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-4">4</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-6">6</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-8">8</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-10">10</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-12">12</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-14">14</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-16">16</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-18">18</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-20">20</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-22">22</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-24">24</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-26">26</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-28">28</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-30">30</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-32">32</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-34">34</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-36">36</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-38">38</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-40">40</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-42">42</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-44">44</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-46">46</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-48">48</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-50">50</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-52">52</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-54">54</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-56">56</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-58">58</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a6592cbe7881105396816-60">60</div><div class="crayon-num" data-line="crayon-5a6592cbe7881105396816-61">61</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a6592cbe7881105396816-1">  mtry  ntree  Accuracy   Kappa      Accuracy SD  Kappa SD </div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-2">   1    1000   0.8442424  0.6828299  0.06505226   0.1352640</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-3">   1    1500   0.8394805  0.6730868  0.05797828   0.1215990</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-4">   1    2000   0.8314646  0.6564643  0.06630279   0.1381197</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-5">   1    2500   0.8379654  0.6693773  0.06576468   0.1375408</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-6">   2    1000   0.8313781  0.6562819  0.06909608   0.1436961</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-7">   2    1500   0.8427345  0.6793793  0.07005975   0.1451269</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-8">   2    2000   0.8443218  0.6830115  0.06754346   0.1403497</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-9">   2    2500   0.8428066  0.6791639  0.06488132   0.1361329</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-10">   3    1000   0.8350216  0.6637523  0.06530816   0.1362839</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-11">   3    1500   0.8347908  0.6633405  0.06836512   0.1418106</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-12">   3    2000   0.8428066  0.6800703  0.06643838   0.1382763</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-13">   3    2500   0.8365296  0.6668480  0.06401429   0.1336583</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-14">   4    1000   0.8316955  0.6574476  0.06292132   0.1317857</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-15">   4    1500   0.8331241  0.6605244  0.07543919   0.1563171</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-16">   4    2000   0.8378860  0.6699428  0.07147459   0.1488322</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-17">   4    2500   0.8315368  0.6568128  0.06981259   0.1450390</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-18">   5    1000   0.8284343  0.6505097  0.07278539   0.1516109</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-19">   5    1500   0.8283622  0.6506604  0.07166975   0.1488037</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-20">   5    2000   0.8219336  0.6375155  0.07548501   0.1564718</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-21">   5    2500   0.8315440  0.6570792  0.07067743   0.1472716</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-22">   6    1000   0.8203391  0.6341073  0.08076304   0.1689558</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-23">   6    1500   0.8186797  0.6302188  0.07559694   0.1588256</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-24">   6    2000   0.8187590  0.6310555  0.07081621   0.1468780</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-25">   6    2500   0.8153463  0.6230495  0.07728249   0.1623253</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-26">   7    1000   0.8217027  0.6367189  0.07649651   0.1606837</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-27">   7    1500   0.8282828  0.6503808  0.06628953   0.1381925</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-28">   7    2000   0.8108081  0.6147563  0.07605609   0.1573067</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-29">   7    2500   0.8250361  0.6437397  0.07737756   0.1602434</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-30">   8    1000   0.8187590  0.6314307  0.08378631   0.1722251</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-31">   8    1500   0.8201876  0.6335679  0.07380001   0.1551340</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-32">   8    2000   0.8266883  0.6472907  0.06965118   0.1450607</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-33">   8    2500   0.8251082  0.6434251  0.07745300   0.1628087</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-34">   9    1000   0.8121717  0.6177751  0.08218598   0.1709987</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-35">   9    1500   0.8184488  0.6300547  0.08077766   0.1674261</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-36">   9    2000   0.8247980  0.6429315  0.07260439   0.1513512</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-37">   9    2500   0.8186003  0.6302674  0.07356916   0.1547231</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-38">  10    1000   0.8235209  0.6407121  0.07991334   0.1656978</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-39">  10    1500   0.8125541  0.6183581  0.06851683   0.1421993</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-40">  10    2000   0.8187518  0.6308120  0.08538951   0.1782368</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-41">  10    2500   0.8169336  0.6263682  0.07847066   0.1649216</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-42">  11    1000   0.8203463  0.6341158  0.07222587   0.1497558</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-43">  11    1500   0.8153463  0.6235878  0.09131621   0.1904418</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-44">  11    2000   0.8234416  0.6402906  0.07586609   0.1576765</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-45">  11    2500   0.8154906  0.6236875  0.07485835   0.1576576</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-46">  12    1000   0.8201948  0.6336913  0.08672139   0.1806589</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-47">  12    1500   0.8139105  0.6206994  0.08638618   0.1804780</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-48">  12    2000   0.8137590  0.6204461  0.07771424   0.1629707</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-49">  12    2500   0.8201876  0.6333194  0.07799832   0.1636237</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-50">  13    1000   0.8123232  0.6173280  0.09299062   0.1936232</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-51">  13    1500   0.8108802  0.6142721  0.08416414   0.1760527</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-52">  13    2000   0.8154257  0.6236191  0.08079923   0.1693634</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-53">  13    2500   0.8106566  0.6138814  0.08074394   0.1687437</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-54">  14    1000   0.8171645  0.6270292  0.08608806   0.1799346</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-55">  14    1500   0.8139033  0.6207263  0.08522205   0.1781396</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-56">  14    2000   0.8170924  0.6276518  0.08766645   0.1822010</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-57">  14    2500   0.8137590  0.6207371  0.08353328   0.1746425</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-58">  15    1000   0.8091486  0.6110154  0.08455439   0.1745129</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-59">  15    1500   0.8109668  0.6154780  0.08928549   0.1838700</div><div class="crayon-line crayon-striped-line" id="crayon-5a6592cbe7881105396816-60">  15    2000   0.8059740  0.6047791  0.08829659   0.1837809</div><div class="crayon-line" id="crayon-5a6592cbe7881105396816-61">  15    2500   0.8122511  0.6172771  0.08863418   0.1845635</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p><div class="wp-caption aligncenter" id="attachment_2188" style="max-width: 765px"><img alt="Custom Tuning of Random Forest parameters in R" class="size-full wp-image-2188" height="759" sizes="(max-width: 755px) 100vw, 755px" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Custom-Tuning-of-Random-Forest-parameters-in-R.png" srcset="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Custom-Tuning-of-Random-Forest-parameters-in-R.png 755w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Custom-Tuning-of-Random-Forest-parameters-in-R-150x150.png 150w, https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/Custom-Tuning-of-Random-Forest-parameters-in-R-298x300.png 298w" width="755"/><p class="wp-caption-text">Custom Tuning of Random Forest parameters in R</p></div>
<p> </p>
<p>For more information on defining custom algorithms in caret see:</p>
<ul>
<li><a href="http://topepo.github.io/caret/custom_models.html">Using Your Own Model in train</a></li>
</ul>
<p>To see the actual wrapper for random forest used by caret that you can use as a starting point, see:</p>
<ul>
<li><a href="https://github.com/topepo/caret/blob/master/models/files/rf.R">Random Forest Wrapper for Caret Train</a></li>
</ul>
<h2>Summary</h2>
<p>In this post you discovered the importance of tuning well-performing machine learning algorithms in order to get the best performance from them.</p>
<p>You worked through an example of tuning the Random Forest algorithm in R and discovered three ways that you can tune a well-performing algorithm.</p>
<ol>
<li>Using the caret R package.</li>
<li>Using tools that come with the algorithm.</li>
<li>Designing your own parameter search.</li>
</ol>
<p>You now have a worked example and template that you can use to tune machine learning algorithms in R on your current or next project.</p>
<h2>Next Step</h2>
<p>Work through the example in this post.</p>
<ol>
<li>Open your R interactive environment.</li>
<li>Type or copy-paste the sample code above.</li>
<li>Take your time and understand what is going on, use R help to read-up on functions.</li>
</ol>
<p>Do you have any questions? Ask in the comments and I will do my best to answer them.</p>
<!-- Shortcoder conditions not met -->
<div class="awac-wrapper"><div class="awac widget text-39"> <div class="textwidget"><p></p><div class="woo-sc-hr"></div><br/>
<center>
<h2>Frustrated With Your Progress In R Machine Learning?</h2>
<p><a href="/machine-learning-with-r/"><img align="left" alt="Master Machine Learning With R" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/MachineLearningMasteryWithR-small.png" style="border: 0;"/></a></p>
<h4>Develop Your Own Models in Minutes</h4>
<p>…with just a few lines of R code</p>
<p>Discover how in my new Ebook:<br/>
<a href="/machine-learning-with-r/">Machine Learning Mastery With R</a></p>
<p>Covers <strong>self-study tutorials</strong> and <strong>end-to-end projects</strong> like:<br/>Loading data, visualization, build models, tuning, and much more…</p>
<h4>Finally Bring Machine Learning To<br/>Your Own Projects</h4>
<p>Skip the Academics. Just Results.</p>
<p><a href="/machine-learning-with-r/">Click to learn more</a>.</p>
<p></p></center><br/>
<div class="woo-sc-hr"></div>
</div>
</div></div><div class="apss-social-share apss-theme-4 clearfix">
<div class="apss-twitter apss-single-icon">
<a href="javascript:void(0);" onclick="apss_open_in_popup_window(event, 'https://twitter.com/intent/tweet?text=Tune%20Machine%20Learning%20Algorithms%20in%20R%20%28random%20forest%20case%20study%29&amp;url=https%3A%2F%2Fmachinelearningmastery.com%2Ftune-machine-learning-algorithms-in-r%2F&amp;');" rel="nofollow" target="" title="Share on Twitter">
<div class="apss-icon-block clearfix">
<i class="fa fa-twitter"></i>
<span class="apss-social-text">Share on Twitter</span><span class="apss-share">Tweet</span>
</div>
</a>
</div>
<div class="apss-facebook apss-single-icon">
<a href="https://www.facebook.com/sharer/sharer.php?u=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/" onclick="apss_open_in_popup_window(event, 'https://www.facebook.com/sharer/sharer.php?u=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/');" rel="nofollow" target="" title="Share on Facebook">
<div class="apss-icon-block clearfix">
<i class="fa fa-facebook"></i>
<span class="apss-social-text">Share on Facebook</span>
<span class="apss-share">Share</span>
</div>
</a>
</div>
<div class="apss-linkedin apss-single-icon">
<a href="http://www.linkedin.com/shareArticle?mini=true&amp;title=Tune%20Machine%20Learning%20Algorithms%20in%20R%20%28random%20forest%20case%20study%29&amp;url=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/&amp;summary=It+is+difficult+to+find+a+good+machine+learning+algorithm+for+your+problem.+But+once+you+do%2C+how+do+..." onclick="apss_open_in_popup_window(event, 'http://www.linkedin.com/shareArticle?mini=true&amp;title=Tune%20Machine%20Learning%20Algorithms%20in%20R%20%28random%20forest%20case%20study%29&amp;url=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/&amp;summary=It+is+difficult+to+find+a+good+machine+learning+algorithm+for+your+problem.+But+once+you+do%2C+how+do+...');" rel="nofollow" target="" title="Share on LinkedIn">
<div class="apss-icon-block clearfix"><i class="fa fa-linkedin"></i>
<span class="apss-social-text">Share on LinkedIn</span>
<span class="apss-share">Share</span>
</div>
</a>
</div>
<div class="apss-google-plus apss-single-icon">
<a href="https://plus.google.com/share?url=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/" onclick="apss_open_in_popup_window(event, 'https://plus.google.com/share?url=https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/');" rel="nofollow" target="" title="Share on Google Plus">
<div class="apss-icon-block clearfix">
<i class="fa fa-google-plus"></i>
<span class="apss-social-text">Share on Google Plus</span>
<span class="apss-share">Share</span>
</div>
</a>
</div>
</div> </section><!-- /.entry -->
<div class="fix"></div>
<aside id="post-author">
<div class="profile-image"><img alt="" class="avatar avatar-80 photo" height="80" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=160&amp;d=mm&amp;r=g 2x" width="80"/></div>
<div class="profile-content">
<h4>About Jason Brownlee</h4>
		Dr. Jason Brownlee is a husband, proud father, academic researcher, author, professional developer and a machine learning practitioner. He is dedicated to helping developers get started and get good at applied machine learning.
<a href="/about">Learn more</a>.				<div class="profile-link">
<a href="https://machinelearningmastery.com/author/jasonb/">
				View all posts by Jason Brownlee <span class="meta-nav">→</span> </a>
</div><!--#profile-link-->
</div>
<div class="fix"></div>
</aside>
<div class="post-utility"></div>
</article><!-- /.post -->
<div class="post-entries">
<div class="nav-prev fl"><a href="https://machinelearningmastery.com/machine-learning-in-r-step-by-step/" rel="prev"><i class="fa fa-angle-left"></i> Your First Machine Learning Project in R Step-By-Step (tutorial and template for future projects)</a></div>
<div class="nav-next fr"><a href="https://machinelearningmastery.com/machine-learning-ensembles-with-r/" rel="next">How to Build an Ensemble Of Machine Learning Algorithms in R (ready to use boosting, bagging and stacking) <i class="fa fa-angle-right"></i></a></div>
<div class="fix"></div>
</div>
<div id="comments"> <h3 id="comments-title">55 Responses to <em>Tune Machine Learning Algorithms in R (random forest case study)</em></h3>
<ol class="commentlist">
<li class="comment even thread-even depth-1" id="comment-360310">
<div class="comment-container" id="li-comment-360310">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/a52b1d1f5919d29ab938594db803b9b5?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a52b1d1f5919d29ab938594db803b9b5?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Harshith</span>
<span class="date">August 17, 2016 at 10:55 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-360310" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Though i try Tuning the Random forest model with number of trees and mtry Parameters, the result is the same.  The table Looks like this and I have to predict y11.</p>
<p>     x11 x12 x13 x14 x15 x16 x17  x18         x19                y11<br/>
     0    0     0     2     0     2     2        4       0.000000000     ?<br/>
     1    1     0     0     0     3     3       18      0.000025700     ?<br/>
     0    1     0     0     1     2     2        2       0.000000000     ?<br/>
     5    2     1     0     1    12   12     14       0.000128479<br/>
     0    0     2     0     1     3     3        3       0.000000000<br/>
     4    0     2     0     1     7     8      104     0.000102783</p>
<p>All x11 to x19 are the important Features to detect y11 value. I have given the model like this but still not able to achieve high Efficiency. Can you please help me.</p>
<p>rf_model &lt;- randomForest(y11~x11+x12+x13+x14+x15+x16+x17+x18+x19, data =new_dataframe_train,ntree=1001,importance=TRUE,keep.forest=TRUE,mtry=3)</p>
<p>  rf_pred&lt;-predict(rf_model,new_dataframe_test)</p>
<div class="reply">
<a aria-label="Reply to Harshith" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=360310#respond" onclick='return addComment.moveForm( "comment-360310", "360310", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-360357">
<div class="comment-container" id="li-comment-360357">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">August 18, 2016 at 8:00 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-360357" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Generally it is a good idea to tune mtry and keep increasing the number of trees until you no longer see an improvement in performance.</p>
<p>No need to perform feature selection with random forest, it will do so automatically, ignoring features that make bad split points.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=360357#respond" onclick='return addComment.moveForm( "comment-360357", "360357", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-366452">
<div class="comment-container" id="li-comment-366452">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/f62610b30758228c4e95709e8d363c5a?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f62610b30758228c4e95709e8d363c5a?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Bing</span>
<span class="date">October 6, 2016 at 9:06 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-366452" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thanks for your codes. I am trying to run them and I was not able to get the same output as you did for the last part of<br/>
&gt; summary(custom)<br/>
&gt; plot(custom)</p>
<p>I got something like this instead for “summary(custom)”:<br/>
                Length Class      Mode<br/>
call                5  -none-     call<br/>
type                1  -none-     character<br/>
predicted       10537  factor     numeric<br/>
err.rate         7500  -none-     numeric<br/>
confusion           6  -none-     numeric<br/>
votes           21074  matrix     numeric<br/>
oob.times       10537  -none-     numeric<br/>
classes             2  -none-     character<br/>
importance         51  -none-     numeric<br/>
importanceSD        0  -none-     NULL<br/>
localImportance     0  -none-     NULL<br/>
proximity           0  -none-     NULL<br/>
ntree               1  -none-     numeric<br/>
mtry                1  -none-     numeric<br/>
forest             14  -none-     list<br/>
y               10537  factor     numeric<br/>
test                0  -none-     NULL<br/>
inbag               0  -none-     NULL<br/>
xNames             51  -none-     character<br/>
problemType         1  -none-     character<br/>
tuneValue           2  data.frame list<br/>
obsLevels           2  -none-     character</p>
<p>Can you advise what went wrong? The codes took 4 days to run and I’m sort of disappointed I wasn’t getting an output I was expecting. Thanks!</p>
<div class="reply">
<a aria-label="Reply to Bing" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=366452#respond" onclick='return addComment.moveForm( "comment-366452", "366452", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment odd alt depth-2" id="comment-369817">
<div class="comment-container" id="li-comment-369817">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/b05eeeca677bb89ad7e3184ca33b4de0?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b05eeeca677bb89ad7e3184ca33b4de0?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Beth</span>
<span class="date">November 8, 2016 at 1:32 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-369817" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Try:<br/>
&gt; custom$results.</p>
<div class="reply">
<a aria-label="Reply to Beth" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=369817#respond" onclick='return addComment.moveForm( "comment-369817", "369817", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-370942">
<div class="comment-container" id="li-comment-370942">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/367cbfe4b58d3f14c9e33d23e5a05785?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/367cbfe4b58d3f14c9e33d23e5a05785?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Aditya</span>
<span class="date">November 17, 2016 at 9:59 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-370942" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Hi Jason,<br/>
I love your website and work.</p>
<p>Is it a general practice to normalize and reduce the number of features using PCA before running the random forest algorithm? I understand that RF picks the best features while splitting the nodes, but my only motivation for PCA is to reduce the computation time.</p>
<div class="reply">
<a aria-label="Reply to Aditya" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=370942#respond" onclick='return addComment.moveForm( "comment-370942", "370942", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-371038">
<div class="comment-container" id="li-comment-371038">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">November 18, 2016 at 8:18 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-371038" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thanks Aditya.</p>
<p>No, I would suggest you let RF figure it out. </p>
<p>If you have time, you could later compare a PCA projected version of your dataset to see if it can out-perform the raw data.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=371038#respond" onclick='return addComment.moveForm( "comment-371038", "371038", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment even depth-3" id="comment-371271">
<div class="comment-container" id="li-comment-371271">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/367cbfe4b58d3f14c9e33d23e5a05785?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/367cbfe4b58d3f14c9e33d23e5a05785?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Aditya</span>
<span class="date">November 20, 2016 at 3:09 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-371271" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Great. Thanks for the tip!</p>
<div class="reply">
<a aria-label="Reply to Aditya" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=371271#respond" onclick='return addComment.moveForm( "comment-371271", "371271", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-371956">
<div class="comment-container" id="li-comment-371956">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/f7bc4450befb7b7aa9b8cb7beb58603f?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f7bc4450befb7b7aa9b8cb7beb58603f?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Harini Devulapalli</span>
<span class="date">November 24, 2016 at 1:07 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-371956" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Great Work! Thanks for the post! 🙂</p>
<div class="reply">
<a aria-label="Reply to Harini Devulapalli" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=371956#respond" onclick='return addComment.moveForm( "comment-371956", "371956", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment even depth-2" id="comment-372095">
<div class="comment-container" id="li-comment-372095">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/f7bc4450befb7b7aa9b8cb7beb58603f?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f7bc4450befb7b7aa9b8cb7beb58603f?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Harini Devulapalli</span>
<span class="date">November 25, 2016 at 4:53 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-372095" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>What will be the metric incase of regression?</p>
<div class="reply">
<a aria-label="Reply to Harini Devulapalli" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=372095#respond" onclick='return addComment.moveForm( "comment-372095", "372095", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-372184">
<div class="comment-container" id="li-comment-372184">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">November 25, 2016 at 9:30 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-372184" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thanks Harini, I’m glad you found it useful.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=372184#respond" onclick='return addComment.moveForm( "comment-372184", "372184", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-372840">
<div class="comment-container" id="li-comment-372840">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/4e76a5a2438461c3b4f07c8f757bfff4?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4e76a5a2438461c3b4f07c8f757bfff4?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/" rel="external nofollow">Siddhartha Peri</a></span>
<span class="date">November 29, 2016 at 12:53 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-372840" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>When you write the line for the model:</p>
<p>rf_default &lt;- train(Class~., . . . )</p>
<p>My R compiler says that 'Class' wasn't found, what does the Class~. represent and how does one go about resolving the issue?</p>
<div class="reply">
<a aria-label="Reply to Siddhartha Peri" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=372840#respond" onclick='return addComment.moveForm( "comment-372840", "372840", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-372990">
<div class="comment-container" id="li-comment-372990">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">November 30, 2016 at 7:53 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-372990" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>This is the formula notation, where “Class” is the name of a variable in the dataset. It may not exist in your dataset.</p>
<p>More on the formula notation here:<br/>
<a href="https://stat.ethz.ch/R-manual/R-devel/library/stats/html/formula.html" rel="nofollow">https://stat.ethz.ch/R-manual/R-devel/library/stats/html/formula.html</a></p>
<p>and here:<br/>
<a href="https://ww2.coastal.edu/kingw/statistics/R-tutorials/formulae.html" rel="nofollow">https://ww2.coastal.edu/kingw/statistics/R-tutorials/formulae.html</a></p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=372990#respond" onclick='return addComment.moveForm( "comment-372990", "372990", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-386249">
<div class="comment-container" id="li-comment-386249">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/4f506342e8fafd72d56f5727446578c8?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4f506342e8fafd72d56f5727446578c8?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Na Ja</span>
<span class="date">February 6, 2017 at 6:54 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-386249" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Very informative blog! thank you! I am experimenting with custom RF function for regression model. I changed type = “regression” and metric=”RMSE”. But, for custom &lt;- train(x,y, method=customRF, metric="RMSE", tuneGrid=tunegrid, trControl=c – I get error. "Error in train.default(x, y, method = customRF, metric = "RMSE", tuneGrid = tunegrid,  :<br/>
  wrong model type for regression" . What could be wrong?</p>
<div class="reply">
<a aria-label="Reply to Na Ja" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=386249#respond" onclick='return addComment.moveForm( "comment-386249", "386249", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment odd alt depth-2" id="comment-386294">
<div class="comment-container" id="li-comment-386294">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/4f506342e8fafd72d56f5727446578c8?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4f506342e8fafd72d56f5727446578c8?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Na Ja</span>
<span class="date">February 6, 2017 at 11:50 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-386294" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>meanwhile, I did as coded below:</p>
<p>control &lt;- trainControl(method="repeatedcv", number=10, repeats=3, search="grid")<br/>
tunegrid &lt;- expand.grid(.mtry=c(1:15))<br/>
modellist &lt;- list()<br/>
for (ntree in c(1000, 1500, 2000, 2500,3000)) {</p>
<p>    fit &lt;- train(x,y, method="rf", metric="RMSE", tuneGrid=tunegrid, trControl=control, ntree=ntree)<br/>
    key &lt;- toString(ntree)<br/>
    modellist[[key]] &lt;- fit</p>
<p>}</p>
<p>But this takes too much time!</p>
<div class="reply">
<a aria-label="Reply to Na Ja" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=386294#respond" onclick='return addComment.moveForm( "comment-386294", "386294", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
<li class="comment byuser comment-author-jasonb bypostauthor even depth-2" id="comment-386364">
<div class="comment-container" id="li-comment-386364">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">February 7, 2017 at 10:12 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-386364" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Strange, it looks like it does not want to use random forest for regression.</p>
<p>Try using caret train() with ‘rf’ on your dataset without grid search and ensure it works.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=386364#respond" onclick='return addComment.moveForm( "comment-386364", "386364", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment odd alt depth-3" id="comment-386434">
<div class="comment-container" id="li-comment-386434">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/4f506342e8fafd72d56f5727446578c8?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4f506342e8fafd72d56f5727446578c8?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Na Ja</span>
<span class="date">February 7, 2017 at 7:01 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-386434" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thanks Jason, I tried as per your suggestion and I get NULL output for fit$predicted ! </p>
<p>In function help, it is mentioned that “train{caret} function sets up a grid of tuning parameters for a number of classification and regression routines, fits each model and calculates a resampling based performance measure.”</p>
<p>Do the tuning parameters I have obtained from above mentioned code are relevant, given the situation when we don’t go for grid search?</p>
<div class="reply">
<a aria-label="Reply to Na Ja" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=386434#respond" onclick='return addComment.moveForm( "comment-386434", "386434", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor even depth-4" id="comment-386529">
<div class="comment-container" id="li-comment-386529">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">February 8, 2017 at 9:34 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-386529" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>You can call the predict() function to make predictions.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=386529#respond" onclick='return addComment.moveForm( "comment-386529", "386529", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="comment-388586">
<div class="comment-container" id="li-comment-388586">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/58f1291b604685bb4abcce29e18b8889?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/58f1291b604685bb4abcce29e18b8889?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">DF</span>
<span class="date">February 17, 2017 at 1:23 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-388586" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Is there a theoretical uperr bound for mtry? I see in most examples the upper bound is 15 but why not fr example 35? Any reference will be greatly appreciated 🙂</p>
<div class="reply">
<a aria-label="Reply to DF" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=388586#respond" onclick='return addComment.moveForm( "comment-388586", "388586", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor even depth-2" id="comment-388785">
<div class="comment-container" id="li-comment-388785">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">February 18, 2017 at 8:33 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-388785" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Hi DF,</p>
<p>mtry is the number of features to consider at each split point. </p>
<p>The universe of possible values is 1 to the number of features in your dataset.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=388785#respond" onclick='return addComment.moveForm( "comment-388785", "388785", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392335">
<div class="comment-container" id="li-comment-392335">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/aae767d00dded1e4a2d51b5fc142067c?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/aae767d00dded1e4a2d51b5fc142067c?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">MEHMET</span>
<span class="date">March 12, 2017 at 2:08 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-392335" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Hi Jason,<br/>
In order to improve a model’s accuracy I go back and search for inaccurately misplaced training points and correct or remove them. I have thousands of training points so it is not easy to locate  them in the training data-set. I was wondering, since the confusion matrix in Random Forest Package in R shows how many training points are inaccurately classified in each class is there a way to easily pinpoint those inaccurately classified training points? I have ID’s of my training samples but I don’t know if it is possible to locate them.</p>
<div class="reply">
<a aria-label="Reply to MEHMET" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=392335#respond" onclick='return addComment.moveForm( "comment-392335", "392335", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor even depth-2" id="comment-392423">
<div class="comment-container" id="li-comment-392423">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">March 13, 2017 at 7:37 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-392423" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Interesting tactic of removing misclassified points. This is generally not an approach I use or recommend.</p>
<p>Why are you tuning your model this way?</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=392423#respond" onclick='return addComment.moveForm( "comment-392423", "392423", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="comment-392615">
<div class="comment-container" id="li-comment-392615">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/aae767d00dded1e4a2d51b5fc142067c?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/aae767d00dded1e4a2d51b5fc142067c?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Mehmet</span>
<span class="date">March 14, 2017 at 1:54 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-392615" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Some of my training points are collected using google earth so as you can guess they are not always the best validation data. that is the reason I tune my training points. Can you give me any suggestion regarding the problem? Normally it is possible to locate those points manually but it is time consuming. I am sure there should be a way to reveal the misclassified points but I don’t know how.</p>
<div class="reply">
<a aria-label="Reply to Mehmet" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=392615#respond" onclick='return addComment.moveForm( "comment-392615", "392615", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor even depth-2" id="comment-392720">
<div class="comment-container" id="li-comment-392720">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">March 15, 2017 at 8:07 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-392720" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>To identify misclassified point would require another source of information.</p>
<p>This sounds like a data cleaning exercise, prior to modeling, unrelated to the choice or use of machine learning algorithms.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=392720#respond" onclick='return addComment.moveForm( "comment-392720", "392720", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-393168">
<div class="comment-container" id="li-comment-393168">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/aae767d00dded1e4a2d51b5fc142067c?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/aae767d00dded1e4a2d51b5fc142067c?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">M</span>
<span class="date">March 18, 2017 at 2:24 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-393168" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Right, that is what I am talking about “data cleaning” but not prior to use of random forest model. I use uncleaned data as a pre-analysis and get confusion matrix. The confusion matrix reveals how many points are misclassified but I need to know exactly which points are misclassified so I can clean it. I need a code in R that reveals the misclassified points. I have the order numbers of each point (total 3000) if it helps.</p>
<div class="reply">
<a aria-label="Reply to M" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=393168#respond" onclick='return addComment.moveForm( "comment-393168", "393168", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor even depth-2" id="comment-393252">
<div class="comment-container" id="li-comment-393252">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">March 19, 2017 at 6:09 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-393252" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>I would recommend comparing predictions to actual points one at a time to discover which points were misclassified.</p>
<p>I do not have an example at hand, sorry.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=393252#respond" onclick='return addComment.moveForm( "comment-393252", "393252", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="comment-394026">
<div class="comment-container" id="li-comment-394026">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Seo Young Jae</span>
<span class="date">March 24, 2017 at 4:06 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-394026" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thank you for good information!<br/>
But I have a one question.</p>
<p>&gt;control set.seed(seed)<br/>
&gt;tunegrid rf_gridsearch control set.seed(seed)<br/>
&gt;mtry rf_random &lt;- train(Class~., data=dataset, method="rf", metric=metric, tuneLength=15, trControl=control)</p>
<p>Have a nice day !!</p>
<div class="reply">
<a aria-label="Reply to Seo Young Jae" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=394026#respond" onclick='return addComment.moveForm( "comment-394026", "394026", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor even depth-2" id="comment-394097">
<div class="comment-container" id="li-comment-394097">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">March 25, 2017 at 7:33 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-394097" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>What question?</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=394097#respond" onclick='return addComment.moveForm( "comment-394097", "394097", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-394029">
<div class="comment-container" id="li-comment-394029">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Seo Young Jae</span>
<span class="date">March 24, 2017 at 4:36 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-394029" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thank you for nice information. But, I want to know more parameter like  nodesize. Then.. how to write R code.. 🙁</p>
<div class="reply">
<a aria-label="Reply to Seo Young Jae" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=394029#respond" onclick='return addComment.moveForm( "comment-394029", "394029", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-394157">
<div class="comment-container" id="li-comment-394157">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Seo Young Jae</span>
<span class="date">March 26, 2017 at 1:52 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-394157" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Question was deleted…. may be there was error..<br/>
so I request. now.</p>
<p>in this grid search code. you use set.seed(seed). Also, you use same function in random search code. I know what is set.seed. But I don’t know why you use this function in grid search code. I understand that set.seed function is used in random search because it has to select each parameter’s number. If i know wrong information, please explain what is the role of set.seed function in this code. Have a nice day!  </p>
<p># train model<br/>
control &lt;- trainControl(method="repeatedcv", number=10, repeats=3)<br/>
tunegrid &lt;- expand.grid(.mtry=c(1:15), .ntree=c(1000, 1500, 2000, 2500))<br/>
set.seed(seed)<br/>
custom &lt;- train(Class~., data=dataset, method=customRF, metric=metric, tuneGrid=tunegrid, trControl=control)<br/>
summary(custom)<br/>
plot(custom)</p>
<div class="reply">
<a aria-label="Reply to Seo Young Jae" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=394157#respond" onclick='return addComment.moveForm( "comment-394157", "394157", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-394188">
<div class="comment-container" id="li-comment-394188">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">March 26, 2017 at 6:14 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-394188" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>I call seed to initialize the random number generator to get the same results each time the code is run. This is useful for tutorials.</p>
<p>You can learn more about the stochastic nature of applied machine learning here:<br/>
<a href="http://machinelearningmastery.com/randomness-in-machine-learning/" rel="nofollow">http://machinelearningmastery.com/randomness-in-machine-learning/</a></p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=394188#respond" onclick='return addComment.moveForm( "comment-394188", "394188", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment even depth-3" id="comment-394248">
<div class="comment-container" id="li-comment-394248">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Seo Young Jae</span>
<span class="date">March 26, 2017 at 10:39 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-394248" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Oh. Thank you for your reply.</p>
<p>At first, I understood that set.seed function affect to the selection of random number of ntree and mtry in random search.  </p>
<p>But you mean that seed function affect to the trainControl’s result and train function result. right?</p>
<div class="reply">
<a aria-label="Reply to Seo Young Jae" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=394248#respond" onclick='return addComment.moveForm( "comment-394248", "394248", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-4" id="comment-394292">
<div class="comment-container" id="li-comment-394292">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">March 27, 2017 at 7:55 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-394292" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Correct. The whole algorithm evaluation procedure including fitting the model.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=394292#respond" onclick='return addComment.moveForm( "comment-394292", "394292", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-395597">
<div class="comment-container" id="li-comment-395597">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Seo Young Jae</span>
<span class="date">April 7, 2017 at 12:02 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-395597" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Hi Jason. you introduced good 2 method(grid, random search).</p>
<p>Is there another method to select best paramters??</p>
<p>I want to know that Even if I do not set the range of parameters, I can find the optimal parameters for the model. The random search eventually sets the number to use as the tuneLength argument…. </p>
<p>Is there a way to find the parameters i want?</p>
<div class="reply">
<a aria-label="Reply to Seo Young Jae" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=395597#respond" onclick='return addComment.moveForm( "comment-395597", "395597", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-395812">
<div class="comment-container" id="li-comment-395812">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">April 9, 2017 at 2:51 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-395812" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>You can use an exhaustive search.</p>
<p>We often do not have the resources to find the “best” parameters and are happy to use “good” or “best found”.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=395812#respond" onclick='return addComment.moveForm( "comment-395812", "395812", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment even depth-3" id="comment-395833">
<div class="comment-container" id="li-comment-395833">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2c12f56298d9580728107b9bce7e2dab?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Seo young jae</span>
<span class="date">April 9, 2017 at 3:26 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-395833" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thank you!</p>
<p>But….What is the exhaustive search??<br/>
Is it function?? or just try many times as gird search??</p>
<div class="reply">
<a aria-label="Reply to Seo young jae" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=395833#respond" onclick='return addComment.moveForm( "comment-395833", "395833", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-4" id="comment-395908">
<div class="comment-container" id="li-comment-395908">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">April 10, 2017 at 7:36 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-395908" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>An exhaustive search is like a grid search where the grid is every possible value:<br/>
<a href="https://en.wikipedia.org/wiki/Brute-force_search" rel="nofollow">https://en.wikipedia.org/wiki/Brute-force_search</a></p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=395908#respond" onclick='return addComment.moveForm( "comment-395908", "395908", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-396896">
<div class="comment-container" id="li-comment-396896">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/690c66f908cf47886a723f103d86dc02?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/690c66f908cf47886a723f103d86dc02?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Dennis</span>
<span class="date">April 19, 2017 at 1:50 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-396896" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Hi Jason. Thanks for your work. I am trying to run ‘Extend Caret’ part and it is unable to get the same output as you did, especially this:<br/>
&gt; summary(custom)<br/>
&gt; plot(custom)</p>
<p>Something is wrong in “summary(custom)”, almost the same as Bing mentioned , as I used custom$results. as Beth suggested before. the result is still wrong.</p>
<p>Could you please give further advise about this?Thank you!</p>
<div class="reply">
<a aria-label="Reply to Dennis" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=396896#respond" onclick='return addComment.moveForm( "comment-396896", "396896", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-396984">
<div class="comment-container" id="li-comment-396984">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">April 20, 2017 at 9:22 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-396984" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>What problem do you see exactly?</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=396984#respond" onclick='return addComment.moveForm( "comment-396984", "396984", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-400860">
<div class="comment-container" id="li-comment-400860">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/4e362d4bdf29717b57d306f216649617?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4e362d4bdf29717b57d306f216649617?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Howard</span>
<span class="date">May 31, 2017 at 4:18 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-400860" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Hi Jason.</p>
<p>I never try Caret before and I am assuming the following line of code performs cross validation.</p>
<p>control &lt;- trainControl(method="repeatedcv", number=10, repeats=3)</p>
<p>My question is why is cross-validation necessary since in random forest ,in its algorithmic philosophy, is already cross-validated.</p>
<div class="reply">
<a aria-label="Reply to Howard" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=400860#respond" onclick='return addComment.moveForm( "comment-400860", "400860", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-401210">
<div class="comment-container" id="li-comment-401210">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">June 2, 2017 at 12:41 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-401210" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>We need a scheme to evaluate the skill of the model on unseen data.</p>
<p>We could use train/test split or k-fold CV.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=401210#respond" onclick='return addComment.moveForm( "comment-401210", "401210", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-404922">
<div class="comment-container" id="li-comment-404922">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/6fb008dca134a71dd53212d4195b8ca4?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6fb008dca134a71dd53212d4195b8ca4?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="https://www.linkedin.com/in/danielfriedheim/" rel="external nofollow">Daniel Friedheim</a></span>
<span class="date">July 6, 2017 at 2:54 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-404922" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thanks for this blog post which gave me the confidence to go beyond Coursera ML course project requirements by daring to tune not just mtry parameter in a basic Forest model but also C parameter in a Support Vector Machine model with an radial basis kernel. Even tried plotting the effects of  mtry and ntree settings on OOB error:</p>
<p><a href="https://rpubs.com/DrFreedy/WeightLiftingExecisePredictiveModel" rel="nofollow">https://rpubs.com/DrFreedy/WeightLiftingExecisePredictiveModel</a></p>
<p>Now following you on Twitter, and inviting you to connect on LinkedIn, too. 🙂</p>
<div class="reply">
<a aria-label="Reply to Daniel Friedheim" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=404922#respond" onclick='return addComment.moveForm( "comment-404922", "404922", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-405220">
<div class="comment-container" id="li-comment-405220">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">July 9, 2017 at 10:23 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-405220" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Well done!</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=405220#respond" onclick='return addComment.moveForm( "comment-405220", "405220", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-408774">
<div class="comment-container" id="li-comment-408774">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/a356823a4e390d2f14ece2d796d3f753?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a356823a4e390d2f14ece2d796d3f753?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Surya</span>
<span class="date">August 7, 2017 at 1:20 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-408774" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Hi,</p>
<p>I have given the code as below</p>
<p>round5_train_CV&lt;-train(SalePrice~.,data=TrainData_split,method="rf",<br/>
                trControl=trainControl(method="cv",number=5),<br/>
                prox=TRUE,allowParallel=TRUE)</p>
<p>There are 84 features in the train data set.. So, the maximum number of features considered at any point is 84. However, I get the output as below with mtry as 145 and 288 which is strange (more than 84 features tried)..I am confused.. Please clarify</p>
<p>  mtry  RMSE      Rsquared<br/>
    2   47522.34  0.7675486<br/>
  145   30352.25  0.8574420<br/>
  288   30593.40  0.8540389</p>
<div class="reply">
<a aria-label="Reply to Surya" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=408774#respond" onclick='return addComment.moveForm( "comment-408774", "408774", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-408805">
<div class="comment-container" id="li-comment-408805">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">August 7, 2017 at 8:46 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-408805" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>The algorithm is reporting error. The error of the predictive model is not related to the number of features (well, not directly related).</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=408805#respond" onclick='return addComment.moveForm( "comment-408805", "408805", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-411717">
<div class="comment-container" id="li-comment-411717">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/233e5cb6f8611aca909fc51f77ffaa92?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/233e5cb6f8611aca909fc51f77ffaa92?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Julian</span>
<span class="date">August 30, 2017 at 8:34 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-411717" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Not a question. Just wanted to say thank you for taking the time to share this. It was very helpful to me.</p>
<div class="reply">
<a aria-label="Reply to Julian" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=411717#respond" onclick='return addComment.moveForm( "comment-411717", "411717", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-411759">
<div class="comment-container" id="li-comment-411759">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">August 30, 2017 at 4:17 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-411759" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thanks Julian.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=411759#respond" onclick='return addComment.moveForm( "comment-411759", "411759", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-417812">
<div class="comment-container" id="li-comment-417812">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/4db538db14b324485198ebe8a59dd940?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4db538db14b324485198ebe8a59dd940?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Amit B.</span>
<span class="date">October 25, 2017 at 4:24 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-417812" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>The grid search tuning method worked really well. Great job Jason, collecting everything on one page is helpful.</p>
<div class="reply">
<a aria-label="Reply to Amit B." class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=417812#respond" onclick='return addComment.moveForm( "comment-417812", "417812", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-417838">
<div class="comment-container" id="li-comment-417838">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">October 25, 2017 at 6:54 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-417838" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>I’m glad to hear that!</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=417838#respond" onclick='return addComment.moveForm( "comment-417838", "417838", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-421095">
<div class="comment-container" id="li-comment-421095">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/96894dfa12f73b262286bdd61a2d3e57?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/96894dfa12f73b262286bdd61a2d3e57?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">sica</span>
<span class="date">November 24, 2017 at 9:24 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-421095" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>hi, I heard cross validation is not necessary for random forest, since we can use out of bagging error. In this demo, we use train function with control. could you give me some comments about it? Many thanks</p>
<div class="reply">
<a aria-label="Reply to sica" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=421095#respond" onclick='return addComment.moveForm( "comment-421095", "421095", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor odd alt depth-2" id="comment-421138">
<div class="comment-container" id="li-comment-421138">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">November 25, 2017 at 10:18 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-421138" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Sure, I have read the same thing. </p>
<p>I try to keep my test harness consistent for all algorithms when spot checking, hence the use of CV.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=421138#respond" onclick='return addComment.moveForm( "comment-421138", "421138", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment even depth-3" id="comment-421866">
<div class="comment-container" id="li-comment-421866">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/96894dfa12f73b262286bdd61a2d3e57?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/96894dfa12f73b262286bdd61a2d3e57?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">sica</span>
<span class="date">December 1, 2017 at 9:14 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-421866" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Thank you for your reply! I see. I also heard using OOB errors may overestimate the accuracy. So in this sense, it maybe also interesting to tune it with CV except using ‘tuneRF’ from ‘randomForest’.</p>
<div class="reply">
<a aria-label="Reply to sica" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=421866#respond" onclick='return addComment.moveForm( "comment-421866", "421866", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-421446">
<div class="comment-container" id="li-comment-421446">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/fd5deb1ae4011ead8cec933760db0626?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/fd5deb1ae4011ead8cec933760db0626?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">stu</span>
<span class="date">November 28, 2017 at 11:20 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-421446" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Hi,</p>
<p>I was wondering if you knew of a way to re-write the RF model to allow for tuning of the cutoff probabilities? For instance, if we had a dataset with unbalanced classes, is it possible to write a custom RF model where mtry was fixed at floor(sqrt(predictors)), and cutoff would iterate through a sequence of values such as .1,.2,.3… .9 for each class? So cutoff for the first iteration might be c(.25,.25,.5), second might be c(.3,.4.3) etc? The only “catch” is that the cutoff probabilities must add to to 1.</p>
<div class="reply">
<a aria-label="Reply to stu" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=421446#respond" onclick='return addComment.moveForm( "comment-421446", "421446", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor even depth-2" id="comment-421534">
<div class="comment-container" id="li-comment-421534">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">November 29, 2017 at 8:11 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-421534" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Good question.</p>
<p>I expect there are papers/code out there for a customized random forest for imbalanced data (e.g. with weighted sampling built in).</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=421534#respond" onclick='return addComment.moveForm( "comment-421534", "421534", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="comment-426211">
<div class="comment-container" id="li-comment-426211">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/088e1c87924ee8e276e873f20c6a6504?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/088e1c87924ee8e276e873f20c6a6504?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name">Sukyung</span>
<span class="date">January 11, 2018 at 3:08 pm</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-426211" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>Hi, </p>
<p>I tried to grid search in Random Forest. </p>
<p>tunegrid_2 &lt;- expand.grid(.mtry=c(1:7), .ntree=c(1000, 1500, 2000, 2500))<br/>
set.seet(1234)<br/>
RF_fit &lt;- train(class~., data = tables, method = "rf",metric = "ROC",tuneGrid = tunegrid_2, trControl =control)</p>
<p>But I got error like this "Error: The tuning parameter grid should have columns mtry". </p>
<p>Thank you so much for your help.</p>
<div class="reply">
<a aria-label="Reply to Sukyung" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=426211#respond" onclick='return addComment.moveForm( "comment-426211", "426211", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
<ul class="children">
<li class="comment byuser comment-author-jasonb bypostauthor even depth-2" id="comment-426254">
<div class="comment-container" id="li-comment-426254">
<div class="avatar"><img alt="" class="avatar avatar-40 photo" height="40" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=80&amp;d=mm&amp;r=g 2x" width="40"/></div>
<div class="comment-head">
<span class="name"><a class="url" href="http://MachineLearningMastery.com" rel="external nofollow">Jason Brownlee</a></span>
<span class="date">January 12, 2018 at 5:51 am</span>
<span class="perma"><a href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/#comment-426254" title="Direct link to this comment">#</a></span>
<span class="edit"></span>
</div><!-- /.comment-head -->
<div class="comment-entry">
<p>I don’t know, sorry.</p>
<div class="reply">
<a aria-label="Reply to Jason Brownlee" class="comment-reply-link" href="https://machinelearningmastery.com/tune-machine-learning-algorithms-in-r/?replytocom=426254#respond" onclick='return addComment.moveForm( "comment-426254", "426254", "respond", "2182" )' rel="nofollow">Reply</a> </div><!-- /.reply -->
</div><!-- /comment-entry -->
</div><!-- /.comment-container -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ol>
</div> <div class="comment-respond" id="respond">
<h3 class="comment-reply-title" id="reply-title">Leave a Reply <small><a href="/tune-machine-learning-algorithms-in-r/#respond" id="cancel-comment-reply-link" rel="nofollow" style="display:none;">Click here to cancel reply.</a></small></h3> <form action="https://machinelearningmastery.com/wp-comments-post.php?wpe-comment-post=mlmastery" class="comment-form" id="commentform" method="post">
<p class="comment-form-comment"><label class="hide" for="comment">Comment</label> <textarea aria-required="true" cols="50" id="comment" maxlength="65525" name="comment" required="required" rows="10" tabindex="4"></textarea></p><p class="comment-form-author"><input aria-required="true" class="txt" id="author" name="author" size="30" tabindex="1" type="text" value=""/><label for="author">Name <span class="required">(required)</span></label> </p>
<p class="comment-form-email"><input aria-required="true" class="txt" id="email" name="email" size="30" tabindex="2" type="text" value=""/><label for="email">Email (will not be published) <span class="required">(required)</span></label> </p>
<p class="comment-form-url"><input class="txt" id="url" name="url" size="30" tabindex="3" type="text" value=""/><label for="url">Website</label></p>
<p class="form-submit"><input class="submit" id="submit" name="submit" type="submit" value="Submit Comment"/> <input id="comment_post_ID" name="comment_post_ID" type="hidden" value="2182"/>
<input id="comment_parent" name="comment_parent" type="hidden" value="0"/>
</p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" type="hidden" value="c1fc429c38"/></p><p style="display: none;"><input id="ak_js" name="ak_js" type="hidden" value="129"/></p> </form>
</div><!-- #respond -->
</section><!-- /#main -->
<aside id="sidebar">
<div class="widget widget_woo_blogauthorinfo" id="woo_blogauthorinfo-2"><h3>Welcome to Machine Learning Mastery</h3><span class="left"><img alt="" class="avatar avatar-100 photo" height="100" src="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=100&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1d75d46040c28497f0dee5d8e100db37?s=200&amp;d=mm&amp;r=g 2x" width="100"/></span>
<p>Hi, I'm Dr. Jason Brownlee.
<br/>
My goal is to make practitioners like YOU awesome at applied machine learning.</p>
<p><a href="/about">Read More</a></p>
<div class="fix"></div>
</div><div class="widget widget_text" id="text-8"><h3>Create Predictive Models With R</h3> <div class="textwidget"><center>
Want to develop your own predictive models in R?<br/>
Looking for step-by-step tutorials?<br/>
Want end-to-end projects with templates?<br/>
<br/>
<a href="/machine-learning-with-r/">Get Started With R Machine Learning Today! </a>
<a href="/machine-learning-with-r/"><img alt="Machine Learning Mastery With R" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/02/MachineLearningMasteryWithR-small.png"/></a>
<br/>
</center></div>
</div>
<div class="widget widget_woo_tabs" id="woo_tabs-2"> <div id="tabs">
<ul class="wooTabs">
<li class="popular"><a href="#tab-pop">Popular</a></li> </ul>
<div class="clear"></div>
<div class="boxes box inside">
<ul class="list" id="tab-pop">
<li>
<a href="https://machinelearningmastery.com/machine-learning-in-python-step-by-step/" title="Your First Machine Learning Project in Python Step-By-Step"><img alt="Your First Machine Learning Project in Python Step-By-Step" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/06/Your-First-Machine-Learning-Project-in-Python-Step-By-Step-150x150.jpg" title="Your First Machine Learning Project in Python Step-By-Step" width="45"/></a> <a href="https://machinelearningmastery.com/machine-learning-in-python-step-by-step/" title="Your First Machine Learning Project in Python Step-By-Step">Your First Machine Learning Project in Python Step-By-Step</a>
<span class="meta">June 10, 2016</span>
<div class="fix"></div>
</li>
<li>
<a href="https://machinelearningmastery.com/time-series-prediction-lstm-recurrent-neural-networks-python-keras/" title="Time Series Prediction with LSTM Recurrent Neural Networks in Python with Keras"><img alt="Time Series Prediction with LSTM Recurrent Neural Networks in Python with Keras" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/07/Time-Series-Prediction-with-LSTM-Recurrent-Neural-Networks-in-Python-with-Keras-150x150.jpg" title="Time Series Prediction with LSTM Recurrent Neural Networks in Python with Keras" width="45"/></a> <a href="https://machinelearningmastery.com/time-series-prediction-lstm-recurrent-neural-networks-python-keras/" title="Time Series Prediction with LSTM Recurrent Neural Networks in Python with Keras">Time Series Prediction with LSTM Recurrent Neural Networks in Python with Keras</a>
<span class="meta">July 21, 2016</span>
<div class="fix"></div>
</li>
<li>
<a href="https://machinelearningmastery.com/multivariate-time-series-forecasting-lstms-keras/" title="Multivariate Time Series Forecasting with LSTMs in Keras"><img alt="Line Plots of Air Pollution Time Series" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2017/06/Line-Plots-of-Air-Pollution-Time-Series-150x150.png" title="Multivariate Time Series Forecasting with LSTMs in Keras" width="45"/></a> <a href="https://machinelearningmastery.com/multivariate-time-series-forecasting-lstms-keras/" title="Multivariate Time Series Forecasting with LSTMs in Keras">Multivariate Time Series Forecasting with LSTMs in Keras</a>
<span class="meta">August 14, 2017</span>
<div class="fix"></div>
</li>
<li>
<a href="https://machinelearningmastery.com/tutorial-first-neural-network-python-keras/" title="Develop Your First Neural Network in Python With Keras Step-By-Step"><img alt="Tour of Deep Learning Algorithms" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/04/Tour-of-Deep-Learning-Algorithms-150x150.jpg" title="Develop Your First Neural Network in Python With Keras Step-By-Step" width="45"/></a> <a href="https://machinelearningmastery.com/tutorial-first-neural-network-python-keras/" title="Develop Your First Neural Network in Python With Keras Step-By-Step">Develop Your First Neural Network in Python With Keras Step-By-Step</a>
<span class="meta">May 24, 2016</span>
<div class="fix"></div>
</li>
<li>
<a href="https://machinelearningmastery.com/setup-python-environment-machine-learning-deep-learning-anaconda/" title="How to Setup a Python Environment for Machine Learning and Deep Learning with Anaconda"><img alt="How to Setup a Python Environment for Machine Learning and Deep Learning with Anaconda" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2017/03/How-to-Setup-a-Python-Environment-for-Machine-Learning-and-Deep-Learning-with-Anaconda-150x150.png" title="How to Setup a Python Environment for Machine Learning and Deep Learning with Anaconda" width="45"/></a> <a href="https://machinelearningmastery.com/setup-python-environment-machine-learning-deep-learning-anaconda/" title="How to Setup a Python Environment for Machine Learning and Deep Learning with Anaconda">How to Setup a Python Environment for Machine Learning and Deep Learning with Anaconda</a>
<span class="meta">March 13, 2017</span>
<div class="fix"></div>
</li>
<li>
<a href="https://machinelearningmastery.com/sequence-classification-lstm-recurrent-neural-networks-python-keras/" title="Sequence Classification with LSTM Recurrent Neural Networks in Python with Keras"><img alt="Sequence Classification with LSTM Recurrent Neural Networks in Python with Keras" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/07/Sequence-Classification-with-LSTM-Recurrent-Neural-Networks-in-Python-with-Keras-150x150.jpg" title="Sequence Classification with LSTM Recurrent Neural Networks in Python with Keras" width="45"/></a> <a href="https://machinelearningmastery.com/sequence-classification-lstm-recurrent-neural-networks-python-keras/" title="Sequence Classification with LSTM Recurrent Neural Networks in Python with Keras">Sequence Classification with LSTM Recurrent Neural Networks in Python with Keras</a>
<span class="meta">July 26, 2016</span>
<div class="fix"></div>
</li>
<li>
<a href="https://machinelearningmastery.com/time-series-forecasting-long-short-term-memory-network-python/" title="Time Series Forecasting with the Long Short-Term Memory Network in Python"><img alt="Time Series Forecasting with the Long Short-Term Memory Network in Python" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2017/04/Time-Series-Forecasting-with-the-Long-Short-Term-Memory-Network-in-Python-150x150.jpg" title="Time Series Forecasting with the Long Short-Term Memory Network in Python" width="45"/></a> <a href="https://machinelearningmastery.com/time-series-forecasting-long-short-term-memory-network-python/" title="Time Series Forecasting with the Long Short-Term Memory Network in Python">Time Series Forecasting with the Long Short-Term Memory Network in Python</a>
<span class="meta">April 7, 2017</span>
<div class="fix"></div>
</li>
<li>
<a href="https://machinelearningmastery.com/multi-class-classification-tutorial-keras-deep-learning-library/" title="Multi-Class Classification Tutorial with the Keras Deep Learning Library"><img alt="Multi-Class Classification Tutorial with the Keras Deep Learning Library" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/06/Multi-Class-Classification-Tutorial-with-the-Keras-Deep-Learning-Library-150x150.jpg" title="Multi-Class Classification Tutorial with the Keras Deep Learning Library" width="45"/></a> <a href="https://machinelearningmastery.com/multi-class-classification-tutorial-keras-deep-learning-library/" title="Multi-Class Classification Tutorial with the Keras Deep Learning Library">Multi-Class Classification Tutorial with the Keras Deep Learning Library</a>
<span class="meta">June 2, 2016</span>
<div class="fix"></div>
</li>
<li>
<a href="https://machinelearningmastery.com/regression-tutorial-keras-deep-learning-library-python/" title="Regression Tutorial with the Keras Deep Learning Library in Python"><img alt="Regression Tutorial with Keras Deep Learning Library in Python" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/06/Regression-Tutorial-with-Keras-Deep-Learning-Library-in-Python-150x150.jpg" title="Regression Tutorial with the Keras Deep Learning Library in Python" width="45"/></a> <a href="https://machinelearningmastery.com/regression-tutorial-keras-deep-learning-library-python/" title="Regression Tutorial with the Keras Deep Learning Library in Python">Regression Tutorial with the Keras Deep Learning Library in Python</a>
<span class="meta">June 9, 2016</span>
<div class="fix"></div>
</li>
<li>
<a href="https://machinelearningmastery.com/grid-search-hyperparameters-deep-learning-models-python-keras/" title="How to Grid Search Hyperparameters for Deep Learning Models in Python With Keras"><img alt="How to Grid Search Hyperparameters for Deep Learning Models in Python With Keras" class="thumbnail wp-post-image" height="45" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2016/08/How-to-Grid-Search-Hyperparameters-for-Deep-Learning-Models-in-Python-With-Keras-150x150.jpg" title="How to Grid Search Hyperparameters for Deep Learning Models in Python With Keras" width="45"/></a> <a href="https://machinelearningmastery.com/grid-search-hyperparameters-deep-learning-models-python-keras/" title="How to Grid Search Hyperparameters for Deep Learning Models in Python With Keras">How to Grid Search Hyperparameters for Deep Learning Models in Python With Keras</a>
<span class="meta">August 9, 2016</span>
<div class="fix"></div>
</li>
</ul>
</div><!-- /.boxes -->
</div><!-- /wooTabs -->
</div> </aside><!-- /#sidebar -->
</div><!-- /#main-sidebar-container -->
</div><!-- /#content -->
<footer class="col-full" id="footer">
<div class="col-left" id="copyright">
<p>© 2018 Machine Learning Mastery. All Rights Reserved. </p> </div>
<div class="col-right" id="credit">
<p></p><p>
<a href="/privacy/">Privacy</a> | 
<a href="/contact/">Contact</a> |
<a href="/about/">About</a>
</p> </div>
</footer>
</div><!-- /#inner-wrapper -->
</div><!-- /#wrapper -->
<div class="fix"></div><!--/.fix-->
<!-- Drip -->
<script type="text/javascript">
  var _dcq = _dcq || [];
  var _dcs = _dcs || {}; 
  _dcs.account = '9556588';
  
  (function() {
    var dc = document.createElement('script');
    dc.type = 'text/javascript'; dc.async = true; 
    dc.src = '//tag.getdrip.com/9556588.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(dc, s);
  })();
</script><!-- Woo Tabs Widget -->
<script type="text/javascript">
jQuery(document).ready(function(){
	// UL = .wooTabs
	// Tab contents = .inside

	var tag_cloud_class = '#tagcloud';

	//Fix for tag clouds - unexpected height before .hide()
	var tag_cloud_height = jQuery( '#tagcloud').height();

	jQuery( '.inside ul li:last-child').css( 'border-bottom','0px' ); // remove last border-bottom from list in tab content
	jQuery( '.wooTabs').each(function(){
		jQuery(this).children( 'li').children( 'a:first').addClass( 'selected' ); // Add .selected class to first tab on load
	});
	jQuery( '.inside > *').hide();
	jQuery( '.inside > *:first-child').show();

	jQuery( '.wooTabs li a').click(function(evt){ // Init Click funtion on Tabs

		var clicked_tab_ref = jQuery(this).attr( 'href' ); // Strore Href value

		jQuery(this).parent().parent().children( 'li').children( 'a').removeClass( 'selected' ); //Remove selected from all tabs
		jQuery(this).addClass( 'selected' );
		jQuery(this).parent().parent().parent().children( '.inside').children( '*').hide();

		jQuery( '.inside ' + clicked_tab_ref).fadeIn(500);

		 evt.preventDefault();

	})
})
</script>
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-includes/js/comment-reply.min.js?ver=4.9.2" type="text/javascript"></script>
<script type="text/javascript">
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"https:\/\/machinelearningmastery.com\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}},"cached":"1"};
/* ]]> */
</script>
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.9.2" type="text/javascript"></script>
<script type="text/javascript">
/* <![CDATA[ */
var frontend_ajax_object = {"ajax_url":"https:\/\/machinelearningmastery.com\/wp-admin\/admin-ajax.php","ajax_nonce":"555b70787c"};
/* ]]> */
</script>
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/plugins/seo-optimized-share-buttons/js/frontend.js?ver=4.2.2.0.iis7_supports_permalinks" type="text/javascript"></script>
<script src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-includes/js/wp-embed.min.js?ver=4.9.2" type="text/javascript"></script>
<script async="async" src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/plugins/akismet/_inc/form.js?ver=4.0.2" type="text/javascript"></script>
</body>
</html>